!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,r=e.Cookies=t();r.noConflict=function(){return e.Cookies=n,r}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function n(r,o){function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n=r.write(n,t);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},i=0;i<n.length;i++){var c=n[i].split("="),u=c.slice(1).join("=");'"'===u[0]&&(u=u.slice(1,-1));try{var f=t.read(c[0]);if(o[f]=r.read(u,f),e===f)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(r)}})}(t,{path:"/"})}));if(!String.prototype.startsWith){String.prototype.startsWith=function(searchString,position){position=position||0;return this.indexOf(searchString,position)===position}}
window.GeolizrDefaults={countries:{AF:"AFGHANISTAN",AL:"ALBANIA",DZ:"ALGERIA",AS:"AMERICAN SAMOA",AD:"ANDORRA",AO:"ANGOLA",AI:"ANGUILLA",AQ:"ANTARCTICA",AG:"ANTIGUA AND BARBUDA",AR:"ARGENTINA",AM:"ARMENIA",AW:"ARUBA",AU:"AUSTRALIA",AT:"AUSTRIA",AZ:"AZERBAIJAN",BS:"BAHAMAS",BH:"BAHRAIN",BD:"BANGLADESH",BB:"BARBADOS",BY:"BELARUS",BE:"BELGIUM",BZ:"BELIZE",BJ:"BENIN",BM:"BERMUDA",BT:"BHUTAN",BO:"BOLIVIA",BA:"BOSNIA AND HERZEGOVINA",BW:"BOTSWANA",BV:"BOUVET ISLAND",BR:"BRAZIL",BQ:"BRITISH ANTARCTIC TERRITORY",IO:"BRITISH INDIAN OCEAN TERRITORY",VG:"BRITISH VIRGIN ISLANDS",BN:"BRUNEI",BG:"BULGARIA",BF:"BURKINA FASO",BI:"BURUNDI",KH:"CAMBODIA",CM:"CAMEROON",CA:"CANADA",CT:"CANTON AND ENDERBURY ISLANDS",CV:"CAPE VERDE",KY:"CAYMAN ISLANDS",CF:"CENTRAL AFRICAN REPUBLIC",TD:"CHAD",CL:"CHILE",CN:"CHINA",CX:"CHRISTMAS ISLAND",CC:"COCOS [KEELING] ISLANDS",CO:"COLOMBIA",KM:"COMOROS",CG:"CON BRAZZAVILLE",CD:"CON KINSHASA",CK:"COOK ISLANDS",CR:"COSTA RICA",HR:"CROATIA",CU:"CUBA",CY:"CYPRUS",CZ:"CZECH REPUBLIC",CI:"CÃ”TE Dâ€™IVOIRE",DK:"DENMARK",DJ:"DJIBOUTI",DM:"DOMINICA",DO:"DOMINICAN REPUBLIC",NQ:"DRONNING MAUD LAND",DD:"EAST GERMANY",EC:"ECUADOR",EG:"EGYPT",SV:"EL SALVADOR",GQ:"EQUATORIAL GUINEA",ER:"ERITREA",EE:"ESTONIA",ET:"ETHIOPIA",FK:"FALKLAND ISLANDS",FO:"FAROE ISLANDS",FJ:"FIJI",FI:"FINLAND",FR:"FRANCE",GF:"FRENCH GUIANA",PF:"FRENCH POLYNESIA",TF:"FRENCH SOUTHERN TERRITORIES",FQ:"FRENCH SOUTHERN AND ANTARCTIC TERRITORIES",GA:"GABON",GM:"GAMBIA",GE:"GEORGIA",DE:"GERMANY",GH:"GHANA",GI:"GIBRALTAR",GR:"GREECE",GL:"GREENLAND",GD:"GRENADA",GP:"GUADELOUPE",GU:"GUAM",GT:"GUATEMALA",GG:"GUERNSEY",GN:"GUINEA",GW:"GUINBISSAU",GY:"GUYANA",HT:"HAITI",HM:"HEARD ISLAND AND MCDONALD ISLANDS",HN:"HONDURAS",HK:"HONG KONG SAR CHINA",HU:"HUNGARY",IS:"ICELAND",IN:"INDIA",ID:"INDONESIA",IR:"IRAN",IQ:"IRAQ",IE:"IRELAND",IM:"ISLE OF MAN",IL:"ISRAEL",IT:"ITALY",JM:"JAMAICA",JP:"JAPAN",JE:"JERSEY",JT:"JOHNSTON ISLAND",JO:"JORDAN",KZ:"KAZAKHSTAN",KE:"KENYA",KI:"KIRIBATI",KW:"KUWAIT",KG:"KYRGYZSTAN",LA:"LAOS",LV:"LATVIA",LB:"LEBANON",LS:"LESOTHO",LR:"LIBERIA",LY:"LIBYA",LI:"LIECHTENSTEIN",LT:"LITHUANIA",LU:"LUXEMBOURG",MO:"MACAU SAR CHINA",MK:"MACEDONIA",MG:"MADAGASCAR",MW:"MALAWI",MY:"MALAYSIA",MV:"MALDIVES",ML:"MALI",MT:"MALTA",MH:"MARSHALL ISLANDS",MQ:"MARTINIQUE",MR:"MAURITANIA",MU:"MAURITIUS",YT:"MAYOTTE",FX:"METROPOLITAN FRANCE",MX:"MEXICO",FM:"MICRONESIA",MI:"MIDWAY ISLANDS",MD:"MOLDOVA",MC:"MONACO",MN:"MONGOLIA",ME:"MONTENEGRO",MS:"MONTSERRAT",MA:"MOROCCO",MZ:"MOZAMBIQUE",MM:"MYANMAR [BURMA]",NA:"NAMIBIA",NR:"NAURU",NP:"NEPAL",NL:"NETHERLANDS",AN:"NETHERLANDS ANTILLES",NT:"NEUTRAL ZONE",NC:"NEW CALEDONIA",NZ:"NEW ZEALAND",NI:"NICARAGUA",NE:"NIGER",NG:"NIGERIA",NU:"NIUE",NF:"NORFOLK ISLAND",KP:"NORTH KOREA",VD:"NORTH VIETNAM",MP:"NORTHERN MARIANA ISLANDS",NO:"NORWAY",OM:"OMAN",PC:"PACIFIC ISLANDS TRUST TERRITORY",PK:"PAKISTAN",PW:"PALAU",PS:"PALESTINIAN TERRITORIES",PA:"PANAMA",PZ:"PANAMA CANAL ZONE",PG:"PAPUA NEW GUINEA",PY:"PARAGUAY",YD:"PEOPLEâ€™S DEMOCRATIC REPUBLIC OF YEMEN",PE:"PERU",PH:"PHILIPPINES",PN:"PITCAIRN ISLANDS",PL:"POLAND",PT:"PORTUGAL",PR:"PUERTO RICO",QA:"QATAR",RO:"ROMANIA",RU:"RUSSIA",RW:"RWANDA",RE:"RÃ‰UNION",BL:"SAINT BARTHÃ‰LEMY",SH:"SAINT HELENA",KN:"SAINT KITTS AND NEVIS",LC:"SAINT LUCIA",MF:"SAINT MARTIN",PM:"SAINT PIERRE AND MIQUELON",VC:"SAINT VINCENT AND THE GRENADINES",WS:"SAMOA",SM:"SAN MARINO",SA:"SAUDI ARABIA",SN:"SENEGAL",RS:"SERBIA",CS:"SERBIA AND MONTENEGRO",SC:"SEYCHELLES",SL:"SIERRA LEONE",SG:"SINGAPORE",SK:"SLOVAKIA",SI:"SLOVENIA",SB:"SOLOMON ISLANDS",SO:"SOMALIA",ZA:"SOUTH AFRICA",GS:"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS",KR:"SOUTH KOREA",ES:"SPAIN",LK:"SRI LANKA",SD:"SUDAN",SR:"SURINAME",SJ:"SVALBARD AND JAN MAYEN",SZ:"SWAZILAND",SE:"SWEDEN",CH:"SWITZERLAND",SY:"SYRIA",ST:"SÃƒO TOMÃ‰ AND PRÃNCIPE",TW:"TAIWAN",TJ:"TAJIKISTAN",TZ:"TANZANIA",TH:"THAILAND",TL:"TIMLESTE",TG:"TOGO",TK:"TOKELAU",TO:"TONGA",TT:"TRINIDAD AND TOBAGO",TN:"TUNISIA",TR:"TURKEY",TM:"TURKMENISTAN",TC:"TURKS AND CAICOS ISLANDS",TV:"TUVALU",UM:"U.S. MINOR OUTLYING ISLANDS",PU:"U.S. MISCELLANEOUS PACIFIC ISLANDS",VI:"U.S. VIRGIN ISLANDS",UG:"UGANDA",UA:"UKRAINE",SU:"UNION OF SOVIET SOCIALIST REPUBLICS",AE:"UNITED ARAB EMIRATES",GB:"UNITED KINGDOM",US:"UNITED STATES",ZZ:"UNKNOWN OR INVALID REGION",UY:"URUGUAY",UZ:"UZBEKISTAN",VU:"VANUATU",VA:"VATICAN CITY",VE:"VENEZUELA",VN:"VIETNAM",WK:"WAKE ISLAND",WF:"WALLIS AND FUTUNA",EH:"WESTERN SAHARA",YE:"YEMEN",ZM:"ZAMBIA",ZW:"ZIMBABWE",AX:"Ã…LAND ISLANDS"},currencies:{AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AO:"AOA",AQ:"AQD",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYR",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"LTL",LU:"EUR",LV:"EUR",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",SS:"SSP",ST:"STD",SV:"USD",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",XK:"EUR",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMK",ZW:"ZWL"}};if(typeof Geolizr==="undefined"){window.Geolizr={}}else{window.Geolizr=Geolizr}
Geolizr.currencyDynamicCountry=Geolizr.currencyDynamicCountry||!1;Geolizr.countries=window.GeolizrDefaults.countries;Geolizr.currencies=window.GeolizrDefaults.currencies;Geolizr.cities={London:"LND",Shaw:"SHAW",'Newcastle upon Tyne':'NET'};Geolizr.lastCommit="73dc4a83fdd2a6796e58a5867b4ed5afd1df36ef";Geolizr.shopDomain=window.location.hostname;Geolizr.jquery=Geolizr.jquery||null;Geolizr.initState=Geolizr.initState||"false";Geolizr.initCallbackList=Geolizr.initCallbackList||[];Geolizr.geoData={};Geolizr.validation="74Pfs6wLK3GmwxYLoURv2ptrFVUAsEtDupYN0jEBC3WJyjGGddHrcl8IyRwF";Geolizr.dataState="false";Geolizr.dataCallbackList=Geolizr.dataCallbackList||[];Geolizr.eventListeners=Geolizr.eventListeners||[];Geolizr.currency_widget_enabled=Geolizr.currency_widget_enabled||!1;Geolizr.shopCurrency=Geolizr.shopCurrency||"EUR";Geolizr.moneyFormats=Geolizr.moneyFormats||[];Geolizr.useMoneyFormat="moneyFormat";Geolizr.shopifyFormatMoneySet=!1;Geolizr.observeElements=[];Geolizr.formatMoneyInit=!1;Geolizr.version=20181108;Geolizr.money_format="${{amount}}";Geolizr.admin=!1;Geolizr.redirects=[];Geolizr.popups=[];Geolizr.notifications=[];Geolizr.useCookieReferrer=!1;Geolizr.animation=Geolizr.animation||!1;Geolizr.currencyApiParamters=Geolizr.currencyApiParamters||!1;Geolizr.jqueryUri=Geolizr.jqueryUri||'//cdn.shopify.com/s/files/1/1102/5626/files/jquery-1.9.1.min.js';Geolizr.activeNotification=!1;Geolizr.pathExReplacer=Geolizr.pathExReplacer||!1;Geolizr.activePopup=null;Geolizr.cookieExpiresDate=365;try{Geolizr.currencyHistory=JSON.parse(sessionStorage.getItem('geolizr-currency-history'))||{"shopify":{"current":"CAD","last":"EUR"}}}catch(e){console.log(e)}
if(typeof Geolizr.currencyHistory.shopify==="undefined"){Geolizr.currencyHistory.shopify={}}
if(typeof Geolizr.currencyHistory.shopify.current==="undefined"){Geolizr.currencyHistory.current=""}
if(typeof Geolizr.currencyHistory.shopify.last==="undefined"){Geolizr.currencyHistory.shopify.last=""}
Geolizr.currencyHistory.addCurrency=function(namespace,currency){if(typeof Geolizr.currencyHistory[namespace]=="undefined"){Geolizr.currencyHistory[namespace]={}}
if(typeof Geolizr.currencyHistory[namespace].current!="undefined"&&Geolizr.currencyHistory[namespace].current!==currency){Geolizr.currencyHistory[namespace].last=Geolizr.currencyHistory[namespace].current}
Geolizr.currencyHistory[namespace].current=currency;try{sessionStorage.setItem('geolizr-currency-history',JSON.stringify(Geolizr.currencyHistory))}catch(e){console.log(e)}}
Geolizr.cookie=Cookies.noConflict();Geolizr.cookie.setCookie=Geolizr.cookie.set;Geolizr.cookie.set=function(key,value,param){if(typeof param=="undefined")param={};param.SameSite="Strict";param.Secure=!0;Geolizr.cookie.setCookie(key,value,param)};if(typeof Geolizr.pathMapping==="undefined")
Geolizr.pathMapping={};Geolizr.detectAdmin=function(){if(typeof Shopify=="object"&&Shopify.designMode===!0){return!0}
let adminCentres=[/https:\/\/.*.myshopify.com\/admin\/themes\/\d*\/editor/,/https:\/\/gempages.net\/editor\?id=.*/];if(parent&&parent.location.href){return adminCentres.some(function(regEx){try{let matchIt=regEx.exec(parent.location.href);return matchIt&&matchIt.length>0}catch(e){return!1}})}else{return!1}};Geolizr.checks={bot:/bot|googlebot|crawler|spider|robot|crawling|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|Chrome-Lighthouse/i.test(window.navigator.userAgent)};Geolizr.urlParameter=!1;Geolizr.getURLParameter=function(name){if(Geolizr.urlParameter===!1){let hash;Geolizr.urlParameter=[];const hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(let i=0;i<hashes.length;i++){hash=hashes[i].split('=');Geolizr.urlParameter.push(hash[0]);Geolizr.urlParameter[hash[0]]=hash[1]}}
return Geolizr.urlParameter[name]};Geolizr.isRedirectDisabled=function(){Geolizr.redirectDisabled=Geolizr.getURLParameter('geolizr_redirect')==="off";if(Geolizr.redirectDisabled===!1){Geolizr.redirectDisabled=Geolizr.cookie.get('geolizr_redirect_disabled')==="true"}
if(Geolizr.getURLParameter('geolizr_redirect')==="on"){Geolizr.redirectDisabled=!1;Geolizr.cookie.remove('geolizr_redirect_disabled')}
if(Geolizr.redirectDisabled)
Geolizr.cookie.set('geolizr_redirect_disabled',Geolizr.redirectDisabled,{expires:new Date(new Date().getTime()+15*60000)});return Geolizr.redirectDisabled};Geolizr.redirectDisabled=Geolizr.isRedirectDisabled();Geolizr.admin=Geolizr.detectAdmin();Geolizr.referrer=document.referrer;Geolizr.setProvider=function(provider,fallbackProvider){if(typeof provider==="object")
Geolizr.provider=provider;else{console.error("given provider not valid - use default provider");Geolizr.provider=Geolizr.ipApiProvider}
if(typeof fallbackProvider==="object")
Geolizr.fallbackProvider=fallbackProvider;else Geolizr.fallbackProvider=Geolizr.lovelyAppProvider};Geolizr.ipInfo={providerUrl:"https://ipinfo.io/json",setIp:function(ip){this.ip=ip;const accessKey=(typeof this.ip==="undefined")?"":"/?token"+this.access_key;this.providerUrl="https://ipinfo.io/"+this.ip+"/json"+accessKey;return this},setAccessKey:function(accessKey){this.access_key=accessKey;const ip=(typeof this.ip==="undefined")?"":"/"+this.ip;this.providerUrl="https://ipinfo.io/"+ip+"/json?token="+this.access_key;return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.countryCode=data.country;data.countryName=Geolizr.countries[data.countryCode];data.region="N/A";data.currencyCode=Geolizr.getCurrencyCode(data);data.currency={'code':data.currencyCode};data.country={'code':data.countryCode,'country':data.countryName};data.service="ipinfo.io";data.status="success";return data}};Geolizr.ipApiCo={providerUrl:"https://ipapi.co/json/",setIp:function(ip){this.ip=ip;const accessKey=(typeof this.ip==="undefined")?"":"/"+this.access_key;this.providerUrl="https://ipapi.co/"+this.ip+"/json"+accessKey;return this},setAccessKey:function(accessKey){this.access_key=accessKey;const ip=(typeof this.ip==="undefined")?"":"/"+this.ip;this.providerUrl="https://ipapi.co/"+ip+"/json/"+this.access_key;return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.currencyCode=data.currency;data.currency={'code':data.currency};data.countryName=data.country_name;data.countryCode=data.country;data.country={'code':data.countryCode,'country':data.country_name};data.service="ipapi.co";data.status="success";return data}};Geolizr.dbIpProvider={providerUrl:"https://api.db-ip.com/v2/free/self",setIp:function(ip){this.ip=ip;this.providerUrl="https://api.db-ip.com/v2/free/"+this.ip;return this},setAccessKey:function(accessKey){this.access_key=accessKey;const ip=(typeof this.ip==="undefined")?"free":this.ip;this.providerUrl="https://api.db-ip.com/v2/"+this.access_key+"/"+ip;return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.country=data.countryName;data.region=data.region_code;data.org="N/A";data.currencyCode=Geolizr.getCurrencyCode(data);data.currency={'code':data.currencyCode};data.countryName=data.country;data.country={'code':data.countryCode,'country':data.country};data.service="db-ip.com";data.status="success";return data}};Geolizr.ipStackProvider={providerUrl:"https://freegeoip.net/json/",setIp:function(ip){this.ip=ip;this.providerUrl="https://api.ipstack.com/"+this.ip+"?access_key="+this.access_key;return this},setAccessKey:function(accessKey){this.access_key=accessKey;const check=(typeof this.ip==="undefined")?"check":this.ip;this.providerUrl="https://api.ipstack.com/"+check+"?access_key="+this.access_key;return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.service="ipstack.net";if(typeof data.error!=="undefined"){console.error('Geolizr ipStackProvider Error: '+data.error.info);return data}
data.country=data.country_name;data.countryCode=data.country_code;data.region=data.region_code;data.org="N/A";data.currencyCode=Geolizr.getCurrencyCode(data);data.currency={'code':data.currencyCode};data.countryName=data.country;data.country={'code':data.countryCode,'country':data.country};data.status="success";return data}};Geolizr.ipApiProvider={providerUrl:"https://ip.lovely-app.com",setIp:function(ip){this.ip=ip;this.providerUrl="https://ip.lovely-app.com/ip/"+ip;return this},setAccessKey:function(accessKey){const ip=typeof this.ip!=="undefined"?"/ip/"+this.ip:"";this.providerUrl="https://ip.lovely-app.com/"+ip;return this},setCountry:function(country){},convert:function(data){if(typeof data.service!=="undefined")
return data;data.currencyCode=Geolizr.getCurrencyCode(data);data.currency={'code':data.currencyCode};data.countryName=data.country;data.country={'code':data.countryCode,'country':data.country};data.service="ip.lovely-app.com";return data}};Geolizr.geolizrProvider={params:{},providerUrl:"https://service.geolizr.com",setIp:function(ip){this.params.ip=ip;this.providerUrl="https://service.geolizr.com?"+Geolizr.jquery.param(this.params);return this},setCountry:function(country){this.params.country=country;this.providerUrl="https://service.geolizr.com?"+Geolizr.jquery.param(this.params);return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.success="true";data.service="service.geolizr.net";return data}};Geolizr.lovelyAppProvider={params:{},providerUrl:"https://geo.lovely-app.com/",setIp:function(ip){this.params.ip=ip;this.providerUrl="https://geo.lovely-app.com/?"+Geolizr.jquery.param(this.params);return this},setCountry:function(country){this.params.country=country;this.providerUrl="https://geo.lovely-app.com?"+Geolizr.jquery.param(this.params);return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data.service="geo.lovely-app.com";data.status="success";return data}};Geolizr.geolizrIpApiProvider={params:{},providerUrl:"https://service.geolizr.com/ipapi/",setIp:function(ip){this.params.ip=ip;this.providerUrl="https://service.geolizr.com/ipapi/?"+Geolizr.jquery.param(this.params);return this},setCountry:function(country){this.params.country=country;this.providerUrl="https://service.geolizr.com/ipapi/?"+Geolizr.jquery.param(this.params);return this},convert:function(data){if(typeof data.service!=="undefined")
return data;data=Geolizr.ipApiProvider.convert(data);data.service="service.geolizr.net/ipapi";return data}};Geolizr.presetServiceActivate=function(config){if(typeof Geolizr[config.name]==="object"){if(config.name==="ipStackProvider"&&typeof config.accessKey==="undefined"){console.error("The free freegeoip is deprecated, more information at https://github.com/apilayer/freegeoip#readme \nWith Geolizr you can bye a key on https://ipstack.com/product a subscription and use this method: use Geolizr.activateFreegeoip('<your new api.ipstack.com key>'). Or you use some of the other free services found here: https://geolizr.freshdesk.com/support/solutions/articles/8000068428-geoip-services");return}
if(typeof config.accessKey==="undefined"){Geolizr.setProvider(Geolizr[config.name])}else{Geolizr.setProvider(Geolizr[config.name].setAccessKey(config.accessKey))}}};if(typeof Geolizr.presetService==="object"){Geolizr.presetServiceActivate(Geolizr.presetService)}else{Geolizr.presetServiceActivate({'name':'ipApiProvider'})}
Geolizr.activateIpApiWrapper=function(){Geolizr.provider=Geolizr.geolizrIpApiProvider};Geolizr.addEventListener=function(event,eventListener,priority){if(typeof priority=="undefined")priority=100;if(!Geolizr.eventListeners[event]){Geolizr.eventListeners[event]=[]}
Geolizr.eventListeners[event].push({callback:eventListener,priority:priority});if(event==='notification.show'&&Geolizr.activeNotification){Geolizr.dispatchEvent('notification.show',Geolizr.activeNotification)}
if(event==='geolizr.geoData'&&Geolizr.geoData&&JSON.stringify(Geolizr.geoData)!=='{}'){Geolizr.dispatchEvent('geolizr.geoData',Geolizr.geoData)}
if(event==='popup.show'&&Geolizr.activePopup!==null){Geolizr.dispatchEvent('popup.show',Geolizr.activePopup)}
if(event==='currency.api'&&Geolizr.currencyApiParamters!==!1){Geolizr.dispatchEvent('currency.api',Geolizr.currencyApiParamters)}
if(event==='redirect.executed'&&typeof Geolizr.redirectExcutionCode!=="undefined"){let executionParam={redirect:Geolizr.redirectExecuted,code:Geolizr.redirectExcutionCode,message:Geolizr.redirectExcutionMessage};Geolizr.dispatchEvent('redirect.executed',executionParam)}};Geolizr.sortByPriority=function(callbackA,callbackB){if(callbackA.priority>callbackB.priority){return-1}
if(callbackB.priority>callbackA.priority){return 1}
return 0};Geolizr.dispatchEvent=function(event,params){if(Object.keys(Geolizr.events).length>0){Object.keys(Geolizr.events).forEach(function(name){Geolizr.events[name].forEach(function(callbackObj){let object={callback:callbackObj.callback,priority:callbackObj.priority};if(typeof Geolizr.eventListeners[name]==="undefined")Geolizr.eventListeners[name]=[];if(Geolizr.eventListeners[name].indexOf(object)===-1){Geolizr.addEventListener(name,callbackObj.callback,callbackObj.priority)}})});Geolizr.events={}}
if(Geolizr.eventListeners[event]){let callbacks=Geolizr.eventListeners[event].sort(Geolizr.sortByPriority);for(let i=0;i<callbacks.length;i++){callbacks[i].callback(params)}}};Geolizr.isReady=function(){return!0};Geolizr.getCurrencyCode=function(geoData){geoData.countryCode=geoData.countryCode||"--";if(geoData&&Geolizr.currencies[geoData.countryCode]){return Geolizr.currencies[geoData.countryCode]}else{return!1}};Geolizr.loadScript=function(url,callback){const script=document.createElement('script');script.type='text/javascript';if(script.readyState){script.onreadystatechange=function(){if(script.readyState==='loaded'||script.readyState==='complete'){script.onreadystatechange=null;callback()}}}else{script.onload=function(){callback()}}
script.src=url;document.getElementsByTagName('head')[0].appendChild(script)};Geolizr.listCheck=function(item,filterUrls,currentUrlWithoutParams){if(item.filterlistType===undefined)
return!1;item.filterlistType=item.filterlistType||"none";let result=!1;if(item.filterlistType==='blacklist'){result=!1;filterUrls.forEach(function(filter){if(typeof filter==="string"&&filter.length>0&&currentUrlWithoutParams.match(filter)!==null)
result=!0});return result}
if(item.filterlistType==='whitelist'){result=!0;filterUrls.forEach(function(filter){if(typeof filter==="string"&&filter.length>0&&currentUrlWithoutParams.match(filter)!==null)
result=!1});return result}
return!1};Geolizr.calculate=function(calcStr){return new Function('return '+calcStr)()};Geolizr.checkGeoData=function(geoData){const ignoreOrgs=['Microsoft bingbot','Google Inc.','Googlebot','Google LLC','Google','Facebook','Yahoo','YANDEX LLC','China Unicom Beijing'];geoData.org=geoData.org||"N/A";if("undefined"!==typeof geoData.org&&ignoreOrgs.indexOf(geoData.org)>-1){return!1}
if(typeof Geolizr.admin!=="undefined"&&Geolizr.admin===!0){return!1}
return("undefined"!==typeof geoData.status&&geoData.status==="success")||geoData.success===!0};Geolizr.geoDataSuccessCallback=function(geoData){geoData=Geolizr.provider.convert(geoData);let status=Geolizr.checkGeoData(geoData);if(geoData.success==="true"){status=!0}
if(status){Geolizr.geoDataSave(geoData);Geolizr.geoData=geoData;Geolizr.dataState='true';for(let i=0;i<Geolizr.dataCallbackList.length;i++){Geolizr.dataCallbackList[i](geoData,!0)}
Geolizr.dataCallbackList=[]}};Geolizr.geoDataOff=function(callback){const data={"status":"success","success":!0,"geolizr":'off',"country":{"code":"--"},"currency":{"code":"---"}};callback(data)};Geolizr.geoDataIsLoading=!1;Geolizr.callbackStack=[];Geolizr.geoDataLoad=function(usedUrl,fallBackUrl,callback){if((typeof Geolizr.geolizr!=="undefined"&&Geolizr.geolizr==='off')||(typeof Geolizr.geoDataObject!=="undefined"&&Geolizr.geoDataObject&&Geolizr.geoDataObject.geolizr==="off")){Geolizr.geoDataOff(callback);return}
if(Geolizr.geoDataIsLoading===!1){Geolizr.geoDataIsLoading=!0;fetch(usedUrl).then((response)=>response.json()).then((data)=>{if(Geolizr.callbackStack.length>0){Geolizr.callbackStack.forEach(eachCallBack=>{eachCallBack(data)})}
callback(data)}).catch(()=>{fetch(fallBackUrl).then((response)=>response.json()).then((data)=>{if(Geolizr.callbackStack.length>0){Geolizr.callbackStack.forEach(eachCallBack=>{eachCallBack(data)})}
callback(data)}).catch(err=>console.error(err))})}else{Geolizr.callbackStack.push(callback)}};Geolizr.geoDataSave=function(geoData){geoData=Geolizr.provider.convert(geoData);if(Geolizr.geolizrCountry){geoData.geolizrCountry=Geolizr.geolizrCountry}
Geolizr.cookie.set('geolizr_geodata',JSON.stringify(geoData),{expires:365,path:'/',domain:Geolizr.shopDomain})};Geolizr.dataCallbackListPush=function(callback){if(Geolizr.dataCallbackList.indexOf(callback)==-1){Geolizr.dataCallbackList.push(callback)}};Geolizr.getGeoData=function(callback,ignoreCache){Geolizr.init(function(){Geolizr.geolizr=Geolizr.getURLParameter('geolizr');Geolizr.geolizrIP=Geolizr.getURLParameter('geolizr_ip');Geolizr.geolizrCountry=Geolizr.getURLParameter('geolizr_country');Geolizr.ignoreCache=ignoreCache?ignoreCache===!0:!1;if(Geolizr.geolizr&&Geolizr.geolizr==="off"||Geolizr.geolizrIP||Geolizr.geolizrCountry)
Geolizr.ignoreCache=!1;if(Geolizr.dataState==='true'&&Geolizr.geoData){callback(Geolizr.geoData);return}else if(Geolizr.dataState==='pending'){Geolizr.dataCallbackListPush(callback);return}
Geolizr.dataCallbackListPush(callback);Geolizr.dataState='pending';setTimeout(function(){if(Geolizr.dataState==='pending'){if(!Geolizr.pendingReset)Geolizr.pendingReset=0;Geolizr.pendingReset++;Geolizr.dataState="false";if(callback&&Geolizr.pendingReset<10){Geolizr.getGeoData(callback,Geolizr.ignoreCache)}else{Geolizr.pendingReset=0}}},600);if(typeof Geolizr.provider.execute=="function")
Geolizr.provider.execute();else Geolizr.defaultExecuteProvider()})}
Geolizr.defaultExecuteProvider=function(){let usedUrl;let fallBackUrl;if(Geolizr.geolizrIP){Geolizr.ignoreCache=!0;Geolizr.provider.setIp(Geolizr.geolizrIP);usedUrl=Geolizr.provider.providerUrl;Geolizr.fallbackProvider.setIp(Geolizr.geolizrIP);fallBackUrl=Geolizr.fallbackProvider.providerUrl}else{usedUrl=Geolizr.provider.providerUrl;fallBackUrl=Geolizr.fallbackProvider.providerUrl}
if(Geolizr.geolizrCountry){Geolizr.ignoreCache=!0;Geolizr.fallbackProvider.setCountry(Geolizr.geolizrCountry);Geolizr.provider=Geolizr.fallbackProvider;usedUrl=Geolizr.provider.providerUrl}
Geolizr.geoDataObject=!1;if(Geolizr.isReady()){if(typeof Geolizr.jquery!=="function"){console.error("jQuery missing");return}
const geoData=Geolizr.cookie.get('geolizr_geodata');Geolizr.jquery.parseJSON=typeof Geolizr.jquery.parseJSON==="function"?Geolizr.jquery.parseJSON:!1;if(Geolizr.jquery.parseJSON===!1){console.error("jQuery missing parseJSON");return}
if("undefined"!==typeof geoData)
Geolizr.geoDataObject=Geolizr.jquery.parseJSON(geoData);else Geolizr.geoDataObject=!1;if(typeof Geolizr.geoDataObject!=="undefined"&&Geolizr.geoDataObject){if(!Geolizr.geoDataObject.geolizrCountry&&Geolizr.geoDataObject.geolizrCountry!==Geolizr.geolizrCountry){Geolizr.geoDataObject=!1}
if(Geolizr.geolizr&&("on"===Geolizr.geolizr||"off"===Geolizr.geolizr)){Geolizr.geoDataObject=!1}else if(Geolizr.geoDataObject&&("off"===Geolizr.geoDataObject.geolizr)){Geolizr.geolizr="off"}
if(Geolizr.ignoreCache===!0)
Geolizr.geoDataObject=!1}
if(Geolizr.geoDataObject){try{Geolizr.geoDataSuccessCallback(Geolizr.geoDataObject)}catch(err){}
Geolizr.geoDataLoad(usedUrl,fallBackUrl,Geolizr.geoDataSave)}else{Geolizr.geoDataLoad(usedUrl,fallBackUrl,Geolizr.geoDataSuccessCallback)}}else{Geolizr.dataState='false'}};Geolizr.versionCompare=function(a,b){if(a===b){return 0}
if(typeof a=="undefined")return-1;const a_components=a.split(".");const b_components=b.split(".");const len=Math.min(a_components.length,b_components.length);for(let i=0;i<len;i++){if(parseInt(a_components[i])>parseInt(b_components[i])){return 1}
if(parseInt(a_components[i])<parseInt(b_components[i])){return-1}}
if(a_components.length>b_components.length){return 1}
if(a_components.length<b_components.length){return-1}
return 0};Geolizr.redirect=function(redirect){if(Geolizr.checks.bot===!0||Geolizr.redirectDisabled){if(Geolizr.redirectDisabled){Geolizr.redirectExcutionCode="513";Geolizr.redirectExcutionMessage="no Redirect because disable by cookie or parameter"}else{Geolizr.redirectExcutionCode="512";Geolizr.redirectExcutionMessage="no Redirect because of bot detection"}
let executionParam={redirect:redirect,code:Geolizr.redirectExcutionCode,message:Geolizr.redirectExcutionMessage};Geolizr.dispatchEvent('redirect.executed',executionParam);return}
if(typeof redirect!=="object"&&Object.keys(Geolizr.redirects).length>0){redirect=Geolizr.redirects[Geolizr.countryToRedirect[Geolizr.geoData.country.code]];const regionRedirect=Geolizr.redirects[Geolizr.countryToRedirect[Geolizr.geoData.country.code+'-'+Geolizr.geoData.region]];if(regionRedirect)
redirect=regionRedirect}
if(typeof redirect==="object"){Geolizr.redirectExecuted=redirect;Geolizr.redirectExecute(redirect)}else{Geolizr.redirectExcutionCode="404";Geolizr.redirectExcutionMessage="no Redirect for Country/Region found"}
let executionParam={redirect:redirect,code:Geolizr.redirectExcutionCode,message:Geolizr.redirectExcutionMessage};Geolizr.dispatchEvent('redirect.notExecuted',executionParam);Geolizr.dispatchEvent('redirect.executed',executionParam)};Geolizr.hasUrlPlaceholder=function(targetUrl){return targetUrl.indexOf('%path%')>-1||targetUrl.indexOf('%path_without_locale%')>-1};Geolizr.replaceUrlPlaceholder=function(targetUrl){let linkParameter=!1;let linkParameterArray=targetUrl.split("?");if(linkParameterArray.length>1){targetUrl=linkParameterArray[0];linkParameter=new URLSearchParams(linkParameterArray[1])}
let path=window.location.href.replace(window.location.protocol+'//'+window.location.hostname+'/','');let path_without_locale=path;if(typeof Geolizr.geoData.country!=="undefined"){if(typeof Geolizr.pathMapping==="object"&&typeof Geolizr.pathMapping[Geolizr.geoData.country.code]==="object"&&typeof Geolizr.pathMapping[Geolizr.geoData.country.code][path]==="string"){path=Geolizr.pathMapping[Geolizr.geoData.country.code][path]}}
let pathFinder="/"+path;if(typeof Geolizr.pathMapping==="object"&&typeof Geolizr.pathMapping[pathFinder]==="string"){path=Geolizr.pathMapping[pathFinder]}
if(typeof Geolizr.pathMapping==="object"&&typeof Geolizr.pathMapping[path]==="string"){path=Geolizr.pathMapping[path]}
if(typeof Geolizr.pathExReplacer=="function"){path=Geolizr.pathExReplacer(path)}
if(Geolizr.requestLocaleRootUrl!=="/"){let locale=Geolizr.requestLocaleRootUrl.replace(/^\//,"")+"/?";path_without_locale=path.replace(new RegExp(locale),"")}
targetUrl=targetUrl.replace('%path%',path);targetUrl=targetUrl.replace('%path_without_locale%',path_without_locale);if(linkParameter){if(targetUrl.indexOf("?")!==-1){let newLinkParameterArray=targetUrl.split("?");let newLinkParameter=new URLSearchParams(newLinkParameterArray[1]);linkParameter.forEach(function(value,key){newLinkParameter.delete(key);newLinkParameter.append(key,value)});let url=newLinkParameterArray[0].replace(/\/\/$/gm,"/");targetUrl=url+"?"+newLinkParameter}else{targetUrl=targetUrl.replace(/\/\/$/gm,"/")+"?"+linkParameter}}
return targetUrl};Geolizr.md5=function(inputString){const hc="0123456789abcdef";function rh(n){let j,s="";for(j=0;j<=3;j++)s+=hc.charAt((n>>(j*8+4))&0x0F)+hc.charAt((n>>(j*8))&0x0F);return s}
function ad(x,y){const l=(x&0xFFFF)+(y&0xFFFF);const m=(x>>16)+(y>>16)+(l>>16);return(m<<16)|(l&0xFFFF)}
function rl(n,c){return(n<<c)|(n>>>(32-c))}
function cm(q,a,b,x,s,t){return ad(rl(ad(ad(a,q),ad(x,t)),s),b)}
function ff(a,b,c,d,x,s,t){return cm((b&c)|((~b)&d),a,b,x,s,t)}
function gg(a,b,c,d,x,s,t){return cm((b&d)|(c&(~d)),a,b,x,s,t)}
function hh(a,b,c,d,x,s,t){return cm(b^c^d,a,b,x,s,t)}
function ii(a,b,c,d,x,s,t){return cm(c^(b|(~d)),a,b,x,s,t)}
function sb(x){let i;const nblk=((x.length+8)>>6)+1;const blks=new Array(nblk*16);for(i=0;i<nblk*16;i++)blks[i]=0;for(i=0;i<x.length;i++)blks[i>>2]|=x.charCodeAt(i)<<((i%4)*8);blks[i>>2]|=0x80<<((i%4)*8);blks[nblk*16-2]=x.length*8;return blks}
let i,x=sb(inputString),a=1732584193,b=-271733879,c=-1732584194,d=271733878,olda,oldb,oldc,oldd;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=ff(a,b,c,d,x[i+0],7,-680876936);d=ff(d,a,b,c,x[i+1],12,-389564586);c=ff(c,d,a,b,x[i+2],17,606105819);b=ff(b,c,d,a,x[i+3],22,-1044525330);a=ff(a,b,c,d,x[i+4],7,-176418897);d=ff(d,a,b,c,x[i+5],12,1200080426);c=ff(c,d,a,b,x[i+6],17,-1473231341);b=ff(b,c,d,a,x[i+7],22,-45705983);a=ff(a,b,c,d,x[i+8],7,1770035416);d=ff(d,a,b,c,x[i+9],12,-1958414417);c=ff(c,d,a,b,x[i+10],17,-42063);b=ff(b,c,d,a,x[i+11],22,-1990404162);a=ff(a,b,c,d,x[i+12],7,1804603682);d=ff(d,a,b,c,x[i+13],12,-40341101);c=ff(c,d,a,b,x[i+14],17,-1502002290);b=ff(b,c,d,a,x[i+15],22,1236535329);a=gg(a,b,c,d,x[i+1],5,-165796510);d=gg(d,a,b,c,x[i+6],9,-1069501632);c=gg(c,d,a,b,x[i+11],14,643717713);b=gg(b,c,d,a,x[i+0],20,-373897302);a=gg(a,b,c,d,x[i+5],5,-701558691);d=gg(d,a,b,c,x[i+10],9,38016083);c=gg(c,d,a,b,x[i+15],14,-660478335);b=gg(b,c,d,a,x[i+4],20,-405537848);a=gg(a,b,c,d,x[i+9],5,568446438);d=gg(d,a,b,c,x[i+14],9,-1019803690);c=gg(c,d,a,b,x[i+3],14,-187363961);b=gg(b,c,d,a,x[i+8],20,1163531501);a=gg(a,b,c,d,x[i+13],5,-1444681467);d=gg(d,a,b,c,x[i+2],9,-51403784);c=gg(c,d,a,b,x[i+7],14,1735328473);b=gg(b,c,d,a,x[i+12],20,-1926607734);a=hh(a,b,c,d,x[i+5],4,-378558);d=hh(d,a,b,c,x[i+8],11,-2022574463);c=hh(c,d,a,b,x[i+11],16,1839030562);b=hh(b,c,d,a,x[i+14],23,-35309556);a=hh(a,b,c,d,x[i+1],4,-1530992060);d=hh(d,a,b,c,x[i+4],11,1272893353);c=hh(c,d,a,b,x[i+7],16,-155497632);b=hh(b,c,d,a,x[i+10],23,-1094730640);a=hh(a,b,c,d,x[i+13],4,681279174);d=hh(d,a,b,c,x[i+0],11,-358537222);c=hh(c,d,a,b,x[i+3],16,-722521979);b=hh(b,c,d,a,x[i+6],23,76029189);a=hh(a,b,c,d,x[i+9],4,-640364487);d=hh(d,a,b,c,x[i+12],11,-421815835);c=hh(c,d,a,b,x[i+15],16,530742520);b=hh(b,c,d,a,x[i+2],23,-995338651);a=ii(a,b,c,d,x[i+0],6,-198630844);d=ii(d,a,b,c,x[i+7],10,1126891415);c=ii(c,d,a,b,x[i+14],15,-1416354905);b=ii(b,c,d,a,x[i+5],21,-57434055);a=ii(a,b,c,d,x[i+12],6,1700485571);d=ii(d,a,b,c,x[i+3],10,-1894986606);c=ii(c,d,a,b,x[i+10],15,-1051523);b=ii(b,c,d,a,x[i+1],21,-2054922799);a=ii(a,b,c,d,x[i+8],6,1873313359);d=ii(d,a,b,c,x[i+15],10,-30611744);c=ii(c,d,a,b,x[i+6],15,-1560198380);b=ii(b,c,d,a,x[i+13],21,1309151649);a=ii(a,b,c,d,x[i+4],6,-145523070);d=ii(d,a,b,c,x[i+11],10,-1120210379);c=ii(c,d,a,b,x[i+2],15,718787259);b=ii(b,c,d,a,x[i+9],21,-343485551);a=ad(a,olda);b=ad(b,oldb);c=ad(c,oldc);d=ad(d,oldd)}
return rh(a)+rh(b)+rh(c)+rh(d)}
Geolizr.redirectReplaceLocation=function(redirect,targetUrlObject){if(Geolizr.redirectExcutionCount<10){Geolizr.dispatchEvent('redirect.executed',{redirect:redirect,code:"200",message:""});Geolizr.redirectExcutionCount=Geolizr.redirectExcutionCount+1;sessionStorage.setItem(Geolizr.redirectExcutionCountKey,Geolizr.redirectExcutionCount);window.location.replace(targetUrlObject.url)}else{Geolizr.redirectExcutionCode="1001";Geolizr.redirectExcutionMessage="Redirect "+redirect.id+" blocks because infinity-loop detected";Geolizr.dispatchEvent('redirect.executed',{redirect:redirect,code:Geolizr.redirectExcutionCode,message:Geolizr.redirectExcutionMessage})}}
Geolizr.redirectExecute=function(redirect){Geolizr.redirectExcutionCode="200";Geolizr.redirectExcutionMessage="";Geolizr.redirectExcutionCountKey="geolizr-redirect-execution-"+redirect.id;Geolizr.redirectExcutionCount=parseInt(sessionStorage.getItem(Geolizr.redirectExcutionCountKey))||0;if(typeof redirect.url=="undefined"&&typeof redirect.redirectUrl==="string"){redirect.url=redirect.redirectUrl}
const cookieBlocker=Geolizr.cookie.get("geolizr.blockRedirects");if(typeof cookieBlocker!=="undefined"&&cookieBlocker!==!1){Geolizr.redirectExcutionCode="908";Geolizr.redirectExcutionMessage="Redirect "+redirect.id+" blocks by cookie ["+cookieBlocker+"]";return}
let currentUrl=window.location.href;if(currentUrl.slice(-1)==='/'){currentUrl=currentUrl.substring(0,currentUrl.length-1)}
let currentUrlWithoutParams=currentUrl.split('?')[0];if(currentUrlWithoutParams.slice(-1)==='/'){currentUrlWithoutParams=currentUrlWithoutParams.substring(0,currentUrlWithoutParams.length-1)}
redirect.url=redirect.url||"";let targetUrl=redirect.url;if(targetUrl===""){Geolizr.redirectExcutionCode="400";Geolizr.redirectExcutionMessage="Redirect URL empty"}
if(targetUrl.slice(-1)==='/'){targetUrl=targetUrl.substring(0,targetUrl.length-1)}
if(Geolizr.hasUrlPlaceholder(targetUrl)){targetUrl=Geolizr.replaceUrlPlaceholder(targetUrl)}else{Geolizr.geolizrCountry=Geolizr.getURLParameter('geolizr_country');Geolizr.geolizrIP=Geolizr.getURLParameter('geolizr_ip');if("undefined"!==typeof Geolizr.geolizrCountry&&"undefined"!==typeof Geolizr.geolizrIP){targetUrl=targetUrl+'/?geolizr_country='+Geolizr.geolizrCountry+"&geolizr_ip="+Geolizr.geolizrIP}else{if(Geolizr.geolizrCountry){targetUrl=targetUrl+'/?geolizr_country='+Geolizr.geolizrCountry}
if(Geolizr.geolizrIP){targetUrl=targetUrl+'/?geolizr_ip='+Geolizr.geolizrIP}}}
if(targetUrl.slice(-1)==='/'){targetUrl=targetUrl.substring(0,targetUrl.length-1)}
redirect.filterlistUrls=redirect.filterlistUrls||"";if(redirect.filterlistType!=='none'&&redirect.filterlistUrls!==""){const filterUrls=redirect.filterlistUrls.replace(/ /g,'').split(",");if(Geolizr.listCheck(redirect,filterUrls,currentUrlWithoutParams)){Geolizr.redirectExcutionCode="904";Geolizr.redirectExcutionMessage="Filter blocks the redirect";return}}
let cookieReferrer=!1;if(Geolizr.useCookieReferrer===!0)
cookieReferrer="https://"+Geolizr.cookie.get("geolizr.referrer");const baseReferrer=document.referrer||Geolizr.referrer||cookieReferrer;if(baseReferrer&&baseReferrer!==''){const tmpAnchor=document.createElement('a');tmpAnchor.href=baseReferrer;let referrer=tmpAnchor.host;if(referrer.indexOf(":")>0){referrer=referrer.replace(':443','').replace(':80','').replace(":88",'')}
redirect.ignoreReferrers=redirect.ignoreReferrers||redirect.redirectIgnoreReferrers||!1;if(redirect.ignoreReferrers){const ignoreReferrers=redirect.ignoreReferrers.replace(/[^-a-zA-Z0-9()@:%_\+\.~#?&//=,äöüßÄÖÜ]/g,'').split(',');Geolizr.jquery.inArray=Geolizr.jquery.inArray||function(){return!1};if(Geolizr.jquery.inArray(referrer,ignoreReferrers)===-1&&currentUrl!==targetUrl){let targetUrlObject={url:targetUrl};if(Geolizr.redirectFilterExecution(redirect,targetUrlObject)){Geolizr.redirectReplaceLocation(redirect,targetUrlObject)}else{Geolizr.redirectExcutionCode="1000";Geolizr.redirectExcutionMessage="redirect Filter blocks the redirect"}}else{if(currentUrl!==targetUrl){Geolizr.redirectExcutionCode="905";Geolizr.redirectExcutionMessage="Referrer ("+referrer+") blocks the redirect";if(Geolizr.getHost(cookieReferrer)===Geolizr.getHost(referrer)){Geolizr.redirectExcutionCode="907";Geolizr.redirectExcutionMessage="Cookie Referrer ("+referrer+") blocks the redirect"}
if(Geolizr.useCookieReferrer===!0)
Geolizr.cookie.set("geolizr.referrer",referrer)}else{Geolizr.redirectExcutionCode="906";Geolizr.redirectExcutionMessage="Destination and current URL are the same"}}}else{if(currentUrl!==targetUrl){let targetUrlObject={url:targetUrl};if(Geolizr.redirectFilterExecution(redirect,targetUrlObject)){Geolizr.redirectReplaceLocation(redirect,targetUrlObject)}else{Geolizr.redirectExcutionCode="1000";Geolizr.redirectExcutionMessage="redirect Filter blocks the redirect"}}else{Geolizr.redirectExcutionCode="906";Geolizr.redirectExcutionMessage="Destination and current URL are the same"}}}else{if(currentUrl!==targetUrl){const targetUrlObject={url:targetUrl};if(Geolizr.redirectFilterExecution(redirect,targetUrlObject)){Geolizr.redirectReplaceLocation(redirect,targetUrlObject)}else{Geolizr.redirectExcutionCode="1000";Geolizr.redirectExcutionMessage="redirect Filter blocks the redirect"}}else{Geolizr.redirectExcutionCode="906";Geolizr.redirectExcutionMessage="Destination and current URL are the same"}}};Geolizr.redirectFilter=Geolizr.redirectFilter||undefined;Geolizr.redirectFilterExecution=function(redirect,targetUrlObject){if(typeof Geolizr.redirectFilter==="function"){return Geolizr.redirectFilter(redirect,targetUrlObject)}
return!0};Geolizr.executePopup=function(popup){let currentUrlWithoutParams=window.location.href.split('?')[0];if(currentUrlWithoutParams.slice(-1)==='/'){currentUrlWithoutParams=currentUrlWithoutParams.substring(0,currentUrlWithoutParams.length-1)}
if(popup.filterlistType!=='none'&&popup.filterlistUrls!==""){const filterUrls=popup.filterlistUrls.replace(/ /g,'').split(",");if(Geolizr.listCheck(popup,filterUrls,currentUrlWithoutParams))
return}
popup.roundCorner=popup.roundCorner||'false';const geolizrClass=popup.roundCorner==='true'?"geolizr-popup-round-corner":"geolizr-popup-shadow";let geolizrPopupTemplate='<div id="geolizr-popup">';let animationClass="";if(Geolizr.animation){animationClass="animate fadeIn "}
let popupUrl=Geolizr.popupAssetUrl.replace("[popupId]",popup.id);if(typeof popup.version!=="undefined"){popupUrl=popupUrl.replace('v=0',"v="+popup.version)}
if(typeof popup.url_parameters=="object"){popupUrl=popupUrl+"&"+Geolizr.jquery.param(popup.url_parameters)}
let path=Geolizr.replaceUrlPlaceholder("%path%");geolizrPopupTemplate+='<div class="geolizr-popup gp-center '+animationClass+geolizrClass+'" style="background: '+popup.backgroundColor+';">';geolizrPopupTemplate+='<iframe id="geolizr-popup-content-iframe" class="'+geolizrClass+'" src="'+popupUrl+'&rootUrl='+Geolizr.requestLocaleRootUrl+'&path='+path+'"></iframe>';popup.dismissible=popup.dismissible||'false';if(popup.dismissible==='true'){popup.textColor=popup.textColor||"black";geolizrPopupTemplate+='<a id="geolizr-dismiss-popup" style="color: '+popup.textColor+';" href="">&times;</a>'}
popup.pageBackgroundColor=popup.pageBackgroundColor||['inherit'];geolizrPopupTemplate+='</div>';geolizrPopupTemplate+='<div class="geolizr-popup-background" style="background-color: rgba('+popup.pageBackgroundColor[0]+', '+popup.pageBackgroundColor[1]+','+popup.pageBackgroundColor[2]+', 0.7)"></div>';geolizrPopupTemplate+='</div>';Geolizr.jquery('body').prepend=Geolizr.jquery('body').prepend||function(){return!1};Geolizr.jquery('body').prepend(geolizrPopupTemplate);Geolizr.jquery('body').addClass('geolizr-popup-open');Geolizr.dispatchEvent('popup.show',popup);const message='GeolizrData=>'+JSON.stringify(Geolizr.geoData);const iframe=Geolizr.jquery('#geolizr-popup-content-iframe');if(iframe.length>0){iframe.ready(function(){setTimeout(function(){try{iframe[0].contentWindow.postMessage(message,"*")}catch(e){}},1)})}
const geolizrPopup=Geolizr.jquery('#geolizr-popup');Geolizr.activePopup=popup;geolizrPopup.children=geolizrPopup.children||function(){return!1};const geolizrPopupContent=geolizrPopup.children('div.geolizr-popup');const onResize=function(event){Geolizr.event=event;const geolizrPopupHeight=parseInt(geolizrPopup.height());geolizrPopupContent.hasClass=geolizrPopupContent.hasClass||function(){return!1};geolizrPopupContent.addClass=geolizrPopupContent.addClass||function(){return!1};geolizrPopupContent.removeClass=geolizrPopupContent.removeClass||function(){return!1};if(Geolizr.jquery(window).width()<670&&geolizrPopupContent.hasClass('gp-center')){if(Geolizr.jquery(window).width>=Geolizr.jquery(window).height){geolizrPopupContent.addClass('gp-mobile');geolizrPopupContent.addClass('landscape')}else{geolizrPopupContent.addClass('gp-mobile');geolizrPopupContent.addClass('portrait')}
geolizrPopupContent.removeClass('gp-center')}else if(Geolizr.jquery(window).width()>=670&&geolizrPopupContent.hasClass('gp-mobile')){geolizrPopupContent.addClass('gp-center');geolizrPopupContent.removeClass('gp-mobile');if(geolizrPopupContent.hasClass('portrait'))
geolizrPopupContent.removeClass('portrait');if(geolizrPopupContent.hasClass('landscape'))
geolizrPopupContent.removeClass('landscape')}
Geolizr.dispatchEvent('popup.resize',{popup:popup,height:geolizrPopupHeight})};onResize();Geolizr.jquery(window).resize(onResize);if(popup.dismissible==='true'){Geolizr.jquery('#geolizr-dismiss-popup').click(function(e){e.preventDefault();Geolizr.closePopup(popup)});$(document).keyup(function(e){if(e.key==="Escape"){Geolizr.closePopup(popup)}})}};Geolizr.closePopupRemember=function(popup){if(popup.rememberCloseState==='true'){Geolizr.cookie.set('geolizr-dismissed-popup-'+popup.id,'true',{expires:Geolizr.cookieExpiresDate,path:'/',domain:Geolizr.shopDomain})}}
Geolizr.isPopupDismissed=function(popup){let dismissedContent=Geolizr.cookie.get('geolizr-dismissed-popup-'+popup.id);return typeof dismissedContent!=='undefined'}
Geolizr.closePopup=function(popup){if(typeof popup=="undefined"){popup=Geolizr.activePopup}
let geolizrPopup=Geolizr.jquery('#geolizr-popup');geolizrPopup.remove();Geolizr.activePopup=null;popup.rememberCloseState=popup.rememberCloseState||'false';Geolizr.closePopupRemember(popup);Geolizr.dispatchEvent('popup.hide',popup);Geolizr.jquery('body').removeClass('geolizr-popup-open')}
Geolizr.popupTabTrap=function(){if($("#geolizr-popup-content-iframe").length>0){const focusableContent=[Geolizr.jquery("#geolizr-popup-content-iframe")[0],Geolizr.jquery("#geolizr-dismiss-popup")[0]];const firstFocusableElement=focusableContent[0];const lastFocusableElement=focusableContent[focusableContent.length-1];const handleKeyUp=function(e){let isTabPressed=e.key==='Tab'||e.keyCode===9;if(!isTabPressed){return}
if(e.shiftKey){if(focusableContent.indexOf(document.activeElement)===-1){lastFocusableElement.focus();e.preventDefault()}}else{if(focusableContent.indexOf(document.activeElement)===-1){firstFocusableElement.focus();e.preventDefault()}}};document.addEventListener('keyup',handleKeyUp);firstFocusableElement.focus();Geolizr.addEventListener('popup.hide',function(){document.removeEventListener("keyup",handleKeyUp,!0)})}}
Geolizr.popup=function(popup,assetUrl){Geolizr.popupAssetUrl=assetUrl;if(popup){const eventMethod=window.addEventListener?"addEventListener":"attachEvent";const eventCatcher=window[eventMethod];const messageEvent=eventMethod==="attachEvent"?"onmessage":"message";const changeUrl=function(data){const dataArray=data.split("=>");let targetUrl=dataArray[1];if(targetUrl){if(Geolizr.hasUrlPlaceholder(targetUrl)){targetUrl=Geolizr.replaceUrlPlaceholder(targetUrl)}
window.location.href=targetUrl}};const checkData=function(data,string){return typeof data==="string"&&data.startsWith(string)};eventCatcher(messageEvent,function(e){const geolizrPopup=Geolizr.jquery('#geolizr-popup');const data=e.data||"";if(geolizrPopup.length>0&&checkData(data,"GeolizrClosePopup")===!0){e.preventDefault();if(Geolizr.activePopup){Geolizr.dispatchEvent('popup.hide',Geolizr.activePopup);Geolizr.jquery('body').removeClass('geolizr-popup-open')}
geolizrPopup.remove();if(Geolizr.activePopup&&Geolizr.activePopup.rememberCloseState==='true'){Geolizr.closePopupRemember(Geolizr.activePopup)}
Geolizr.activePopup=null;if(data!=="GeolizrClosePopup"){changeUrl(data)}}
if(geolizrPopup.length>0&&checkData(data,"GeolizrRedirect")===!0){e.preventDefault();changeUrl(data)}
if(checkData(data,"GeolizrLyChangeLanguage")){let dataArray=data.split("=>");let lyCode=dataArray[1];if(typeof langify!=="undefined"&&langify.helper){geolizrPopup.remove();if(Geolizr.activePopup&&Geolizr.activePopup.rememberCloseState==='true'){Geolizr.closePopupRemember(Geolizr.activePopup)}
langify.helper.saveLanguage(lyCode)}}
if(checkData(data,"GeolizrDispatchEvent")){let dataParameter=data.split("=>");let eventParameter=JSON.parse(dataParameter[1]);Geolizr.dispatchEvent(eventParameter.name,eventParameter.parameter)}},!1);popup.dismissed=Geolizr.isPopupDismissed(popup);Geolizr.dispatchEvent('popup.preShow',popup);if(!popup.dismissed){Geolizr.executePopup(popup)}}};Geolizr.countryFlagTemplate='<i class="famfamfam-flag-{countryFlagLowerCase}"></i>';Geolizr.getCountryFlag=function(countryCode){const countryFlagLowerCase=countryCode.toLowerCase();const countryFlagUpperCase=countryCode.toUpperCase();const countryFlagFirstLetterUp=countryCode.charAt(0).toUpperCase()+countryCode.substr(1).toLowerCase();return Geolizr.countryFlagTemplate.replace('{countryFlagLowerCase}',countryFlagLowerCase).replace('{countryFlagUpperCase}',countryFlagUpperCase).replace('{countryFlagFirstLetterUp}',countryFlagFirstLetterUp)};Geolizr.getNotification=function(){const geoData=Geolizr.geoData;let notification=Geolizr.notifications[Geolizr.regionToNotification[geoData.country.code]];const regionNotification=Geolizr.notifications[Geolizr.regionToNotification[geoData.country.code+'-'+geoData.region]];if(typeof regionNotification!=="undefined")
notification=regionNotification;if(typeof Geolizr.cities[geoData.city]!=="undefined"){const cityNotification=Geolizr.notifications[Geolizr.regionToNotification[geoData.country.code+'-'+Geolizr.cities[geoData.city]]];if(typeof cityNotification!=="undefined")
notification=cityNotification}
return notification};Geolizr.notification=function(notification,geoData){if(notification){let dismissed=Geolizr.cookie.get('geolizr-dismissed-'+notification.id)==='true';if(!dismissed){let currentUrlWithoutParams=window.location.href.split('?')[0];if(currentUrlWithoutParams.slice(-1)==='/'){currentUrlWithoutParams=currentUrlWithoutParams.substring(0,currentUrlWithoutParams.length-1)}
if(notification.filterlistType!=='none'&&notification.filterlistUrls!==""){let filterUrls=notification.filterlistUrls.replace(/ /g,'').split(",");if(Geolizr.listCheck(notification,filterUrls,currentUrlWithoutParams))
return}
let randomNumber=function(regex,from,to,gc,cookie){cookie=cookie==="1";const cookieKey="rndNr_"+from+","+to+location.href;if(cookie&&Geolizr.cookie.get(cookieKey)){return Geolizr.cookie.get(cookieKey)}
const random=Math.floor(Math.random()*parseInt(to))+parseInt(from);if(cookie)Geolizr.cookie.set(cookieKey,random,{expire:1});return random};notification.message=notification.message.replace('{{ country_name }}',Geolizr.countries[geoData.country.code]).replace(/{{.?country_code.?}}/g,geoData.country.code).replace(/{{.?country_flag.?}}/g,Geolizr.getCountryFlag(geoData.country.code)).replace(/{{.?random_number\((\d+),(\d+)(,(\d+))?\) }}/g,randomNumber).replace(/{{.?currency.?}}/g,geoData.currency.code);notification.linkColor=notification.linkColor||"";notification.linkUrl=notification.linkUrl||"";if(Geolizr.hasUrlPlaceholder(notification.linkUrl)){notification.linkUrl=Geolizr.replaceUrlPlaceholder(notification.linkUrl)}
notification.linkText=notification.linkText||"";notification.textColor=notification.textColor||"";notification.backgroundColor=notification.backgroundColor||"";let geolizrNotificationTemplate='<div id="geolizr-notification-wrapper" style="display: block; height: 44px;"><div id="geolizr-notification">';geolizrNotificationTemplate+='<div id="geolizr-notification-message-wrapper" style="background-color: '+notification.backgroundColor+'; border-bottom:4px solid '+notification.textColor+';">';let cssArray=[];let cssString="";if(notification.textColor)cssArray.push("color: "+notification.textColor);if(notification.font)cssArray.push("font-family: "+notification.font);if(cssArray.length>0)cssString=" style='"+cssArray.join("; ")+"'";geolizrNotificationTemplate+='<span id="geolizr-notification-content" '+cssString+'>'+notification.message+'&nbsp;</span>';let cssArrayLink=[];let cssStringLink="";if(notification.linkColor)cssArrayLink.push("color: "+notification.linkColor);if(notification.font)cssArrayLink.push("font-family: "+notification.font);if(cssArrayLink.length>0)cssStringLink=" style='"+cssArrayLink.join("; ")+"'";geolizrNotificationTemplate+='<a id="geolizr-notification-link" '+cssStringLink+' href="'+notification.linkUrl+'">'+notification.linkText+'</a>';if(notification.dismissible==='true'){geolizrNotificationTemplate+='<a id="geolizr-dismiss-notification" style="color: '+notification.backgroundColor+'; background: '+notification.textColor+';" href="">&times;</a>'}
geolizrNotificationTemplate+='</div>';geolizrNotificationTemplate+='</div>';Geolizr.dispatchEvent('notification.preShow',notification);const body=Geolizr.jquery('body');if(notification.flat){const style="<style>#geolizr-notification-spanner { display: none; }\n"+"    #geolizr-notification-message-wrapper { border-bottom: none !important; }\n"+"    #geolizr-notification > div#geolizr-notification-message-wrapper { -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; }</style>";body.append(style)}
body.addClass('geolizr-notification-open');body.prepend(geolizrNotificationTemplate);Geolizr.dispatchEvent('notification.show',notification);Geolizr.activeNotification=notification;const geolizrNotification=Geolizr.jquery('#geolizr-notification');const geolizrNotificationSpace=Geolizr.jquery('#geolizr-notification-space');const geolizrNotificationWrapper=Geolizr.jquery('#geolizr-notification-wrapper');if(Geolizr.animation===!0){geolizrNotificationWrapper.addClass("slideInDown");Geolizr.jquery(document).ready(function(){setTimeout(function(){geolizrNotificationWrapper.css("display","block")},1500)})}else geolizrNotificationWrapper.css("display","block");const onResize=function(){const geolizrNotificationHeight=parseInt(geolizrNotification.height());geolizrNotificationWrapper.css=geolizrNotificationSpace.css||function(){return!1};geolizrNotificationWrapper.css('height',geolizrNotificationHeight);Geolizr.dispatchEvent('notification.resize',{notification:notification,height:geolizrNotificationHeight})};onResize();Geolizr.jquery(window).resize(onResize);if(notification.dismissible==='true'){Geolizr.jquery('#geolizr-dismiss-notification').click(function(e){e.preventDefault();geolizrNotification.removeClass("slideInDown");geolizrNotification.addClass("slideInUp");geolizrNotificationSpace.css('margin-bottom','0px');setTimeout(function(){geolizrNotificationWrapper.remove();geolizrNotification.remove();Geolizr.jquery('body').removeClass('geolizr-notification-open')},300);if(notification.rememberCloseState==='true'){Geolizr.cookie.set('geolizr-dismissed-'+notification.id,'true',{expires:365,path:'/',domain:Geolizr.shopDomain})}
Geolizr.dispatchEvent('notification.hide',notification)})}}else{Geolizr.dispatchEvent('notification.dismissed',notification)}}};Geolizr.shopifyFormatMoney=function(e,t){function n(e,t){return"undefined"===typeof e?t:e}
function i(e,t,i,r){if(t=n(t,2),i=n(i,","),r=n(r,"."),isNaN(e)||null==e)
return 0;e=(e/100).toFixed(t);const o=e.split("."),a=o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i),s=o[1]?r+o[1]:"";return a+s}
"string"===typeof e&&(e=e.replace(".",""));var r="",o=/{{\s*(\w+)\s*}}/,a=t||this.money_format;switch(a.match(o)[1]){case "amount":r=i(e,2);break;case "amount_no_decimals":r=i(e,0);break;case "amount_with_comma_separator":r=i(e,2,".",",");break;case "amount_no_decimals_with_comma_separator":r=i(e,0,".",",");break;case "amount_no_decimals_with_space_separator":r=i(e,0," ")}
return a.replace(o,r)};Geolizr.formatMoney=function(cents,format){if(typeof cents==='string'){cents=cents.replace('.','')}
let value='';const placeholderRegex=/{{\s*(\w+)\s*}}/;this.money_format=this.money_format||!1;const formatString=format||this.money_format;const defaultOption=function(opt,def){return(typeof opt==='undefined'?def:opt)};const formatWithDelimiters=function(number,precision,thousands,decimal){precision=defaultOption(precision,2);thousands=defaultOption(thousands,',');decimal=defaultOption(decimal,'.');if(isNaN(number)||number==null){return 0}
number=(number/100.0).toFixed(precision);const parts=number.split('.'),dollars=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,'$1'+thousands),cents=parts[1]?(decimal+parts[1]):'';return dollars+cents};switch(formatString.match(placeholderRegex)[1]){case 'amount':value=formatWithDelimiters(cents,2);break;case 'amount_no_decimals':value=formatWithDelimiters(cents,0);break;case 'amount_with_comma_separator':value=formatWithDelimiters(cents,2,'.',',');break;case 'amount_no_decimals_with_comma_separator':value=formatWithDelimiters(cents,0,'.',',');break}
return formatString.replace(placeholderRegex,value)};Geolizr.fixedFormatMoney=function formatMoney(cents,format){if(typeof cents==='string'){cents=cents.replace('.','')}
let value='';const placeholderRegex=/\{\{\s*(\w+)\s*\}\}/;const formatString=(format||moneyFormat);function formatWithDelimiters(number,precision,thousands,decimal){if(precision!==0)precision=precision||2;thousands=thousands||',';decimal=decimal||'.';if(isNaN(number)||number==null){return 0}
number=(number/100.0).toFixed(precision);const parts=number.split('.');const dollarsAmount=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,'$1'+thousands);const centsAmount=parts[1]?(decimal+parts[1]):'';return dollarsAmount+centsAmount}
switch(formatString.match(placeholderRegex)[1]){case 'amount':value=formatWithDelimiters(cents,2);break;case 'amount_no_decimals':value=formatWithDelimiters(cents,0);break;case 'amount_with_comma_separator':value=formatWithDelimiters(cents,2,'.',',');break;case 'amount_no_decimals_with_comma_separator':value=formatWithDelimiters(cents,0,'.',',');break;case 'amount_no_decimals_with_space_separator':value=formatWithDelimiters(cents,0,' ');break}
return formatString.replace(placeholderRegex,value)};Geolizr.convert=function(originalPrice,shopCurrency,currency){if(Geolizr.formatMoneyInit==!1){return originalPrice}
let customCalculation=Geolizr.moneyFormats[currency].calculationString||!1;let xrate=!1;try{let options=JSON.parse(customCalculation);if(options){if("number"===typeof options.xrate){Geolizr.Currency.rates[currency]=options.xrate;xrate=options.xrate}
if("string"===typeof options.customCalc)
customCalculation=options.customCalc;else customCalculation=!1}}catch(ex){}
let convertedPrice;if(xrate===!1){convertedPrice=Geolizr.Currency.convert(originalPrice,shopCurrency,currency)}else{convertedPrice=originalPrice/xrate}
if(customCalculation){convertedPrice=Geolizr.calculate(customCalculation.replace('{{amount}}',convertedPrice))}
return convertedPrice};Geolizr.setCurrency=function(currency,country){if(Geolizr.formatMoneyInit!==!0){Geolizr.addEventListener('currency.api',function(){Geolizr.setCurrency(currency)});return}
if(typeof currency==="string")
currency=currency.trim();if(typeof country==="undefined"){if(Geolizr.currencyDynamicCountry===!0&&typeof Geolizr.geoData!=="undefined"&&typeof Geolizr.geoData.country!=="undefined"&&Geolizr.geoData.currency.code===currency){country=Geolizr.geoData.country.code}}
if(typeof Geolizr.moneyFormats[currency]==="undefined"){console.error("geolizr-lib.js Error: currency '"+currency+"' not supported in Geolizr Supported Currency List");return}
let blockConvert=!1;if(typeof Geolizr.moneyFormats[currency]!=="undefined"&&typeof Geolizr.moneyFormats[currency].block!=="undefined"){blockConvert=Geolizr.moneyFormats[currency].block||!1}
if(blockConvert===!0){Geolizr.cookie.set('geolizr-currency',currency,{expires:1,path:'/',domain:Geolizr.shopDomain});Geolizr.cookie.set('cart_currency',currency,{expires:1,path:'/'});Geolizr.usedLanguageCode=Geolizr.currenciesToLanguages[currency];if(!Geolizr.usedLanguageCode){Geolizr.usedLanguageCode=Geolizr.currenciesToLanguages[Geolizr.shopCurrency]}
Geolizr.dispatchEvent('currency.change',currency);Geolizr.dispatchEvent('currency.change.block',{'currency':currency,country:country});if(Object.values(Geolizr.shopifyCurrencyList).length>1)
return}
if(Geolizr.observeElements.length>0){Geolizr.disconnectObserver()}
let moneyFormat=Geolizr.moneyFormats[currency][Geolizr.useMoneyFormat];Geolizr.jquery('.geolizr-currency').each(function(){if(this.hasAttribute('data-geolizr-price')===!1){this.setAttribute('data-geolizr-price',this.innerText.replace(/[^0-9]/g,''))}
let originalPrice=parseInt(Geolizr.jquery(this).attr('data-geolizr-price'),10);let convertedPrice=Geolizr.convert(originalPrice,Geolizr.shopCurrency,currency);let placeholderRegex=/\{\{\s*(\w+)\s*\}\}/;let output=Geolizr.shopifyFormatMoney(convertedPrice,moneyFormat);if(moneyFormat.match(placeholderRegex)[1]==='amount_no_decimals'){output=Geolizr.fixedFormatMoney(convertedPrice,moneyFormat)}
Geolizr.jquery(this).html(output)});let removeDomains=Geolizr.shopDomain.split(".").reverse();let baseEnding=removeDomains.shift();let baseDomain=removeDomains.shift()+'.'+baseEnding;Geolizr.cookie.remove('geolizr-currency',{domain:baseDomain});if(removeDomains.length>0){removeDomains.forEach(function(subDomain){baseDomain=subDomain+'.'+baseDomain;Geolizr.cookie.remove('geolizr-currency',{domain:baseDomain})})}
Geolizr.cookie.set('geolizr-currency',currency,{expires:1,path:'/',domain:Geolizr.shopDomain});if(typeof Geolizr.shopifyCurrencyListIndex!=="undefined"&&Geolizr.shopifyCurrencyListIndex[currency]>-1)
Geolizr.cookie.set('cart_currency',currency,{expires:1,path:'/'});else Geolizr.cookie.set('cart_currency',Geolizr.shopCurrencyBase,{expires:1,path:'/'});Geolizr.usedLanguageCode=Geolizr.currenciesToLanguages[currency];if(!Geolizr.usedLanguageCode){Geolizr.usedLanguageCode=Geolizr.currenciesToLanguages[Geolizr.shopCurrency]}
Geolizr.dispatchEvent('currency.change',currency);if(Geolizr.observeElements.length>0){Geolizr.observe()}};Geolizr.mutation=function(selector,observeOption,interval,callback){return new Promise(function(resolve){if($(selector).length){let option=[selector,observeOption,interval];let mutationOption={childList:(observeOption&"100")===100,attributes:(observeOption&"10")===10,subtree:(observeOption&"1")===1};let timeout=0;let count=0;let observer=new MutationObserver(()=>{if(interval>=1)observer.disconnect();if(timeout)clearTimeout(timeout);timeout=setTimeout(()=>{count++;Geolizr.setCurrency(Geolizr.getCurrency());if(interval>1&&count<interval)observer.observe($(selector)[0],mutationOption);let successMessage="observer count: "+count+" passed successfully";resolve(successMessage);if(typeof callback=="function")callback(successMessage,count,option)},400)});observer.observe($(selector)[0],mutationOption)}else{resolve("Object with "+selector+" not found")}})}
Geolizr.convertAll=function(oldCurrency,newCurrency,selector,format){if(typeof newCurrency==="undefined"){newCurrency=Geolizr.getCurrency()}
if(typeof oldCurrency==="undefined"){oldCurrency=Geolizr.shopCurrency}
let blockConvert=Geolizr.moneyFormats[newCurrency].block||!1;if(blockConvert===!0)return;Geolizr.jquery(selector||'span.money').each(function(i,e){if(Geolizr.jquery(e).hasClass('geolizr-currency')||Geolizr.jquery(e).find('.geolizr-currency').length>0)
return;if(typeof newCurrency==="undefined")
return;if(Geolizr.jquery(e).attr('data-currency')===newCurrency)return;let newCurrencyCacheValue=Geolizr.jquery(e).attr('data-currency-'+newCurrency);let newCurrencyCache="";if(newCurrencyCacheValue){newCurrencyCache=newCurrencyCacheValue.replace(/[^0-9]/g,'')}
let oldCurrencyCacheValue=Geolizr.jquery(e).attr('data-currency-'+oldCurrency);let oldCurrencyCache="";if(oldCurrencyCacheValue){oldCurrencyCache=Geolizr.jquery(e).attr('data-currency-'+oldCurrency).replace(/[^0-9]/g,'')}
if(newCurrencyCache==oldCurrencyCache){Geolizr.jquery(e).attr('data-currency-'+newCurrency,"")}
if(Geolizr.jquery(e).attr('data-currency-'+newCurrency)){Geolizr.jquery(e).html(Geolizr.jquery(this).attr('data-currency-'+newCurrency))}else{let cents=0.0;let oldFormat=Geolizr.moneyFormats[oldCurrency].moneyFormat||'{{amount}}';if(oldCurrency===Geolizr.shopCurrency)
oldFormat=Geolizr.shopMoneyFormat;let decimalFixer=!1;if(typeof format!=="undefined")
oldFormat=format;if(oldFormat.indexOf('amount_no_decimals')!==-1){cents=parseInt(Geolizr.jquery(e).html().replace(/[^0-9]/g,''))*100;decimalFixer=!0}else if(oldCurrency==='JOD'||oldCurrency==='KWD'||oldCurrency==='BHD'){cents=parseInt(Geolizr.jquery(e).html().replace(/[^0-9]/g,''))}else{cents=parseInt(Geolizr.jquery(e).html().replace(/[^0-9]/g,''))}
if(isNaN(cents))return;const oldPrice=Geolizr.jquery(e).html();if(oldPrice.indexOf(".")===-1&&oldPrice.indexOf(",")===-1&&decimalFixer===!1){cents=cents*100}
const newFormattedAmount=Geolizr.formatMoney(cents,oldFormat);Geolizr.jquery(e).html(newFormattedAmount);Geolizr.jquery(e).attr('data-currency-'+newCurrency,newFormattedAmount)}
Geolizr.jquery(e).attr('data-currency',newCurrency);Geolizr.setCurrency(Geolizr.getCurrency())}.bind(format))};Geolizr.getCurrency=function(){return Geolizr.cookie.get('geolizr-currency',{domain:Geolizr.shopDomain})||Geolizr.shopCurrency};Geolizr.switchCurrency=function(currency,country){if(typeof currency==="string")
currency=currency.trim();if(currency&&Geolizr.moneyFormats[currency]){Geolizr.setCurrency(currency,country)}else{Geolizr.setCurrency(Geolizr.shopCurrency,country)}};Geolizr.getHost=function(url){if(typeof url!=="string")return null;if(url.startsWith("http://")===!1&&url.startsWith("https://")===!1)url="https://"+url;const tmpAnchor=document.createElement('a');tmpAnchor.href=url;return tmpAnchor.host}
Geolizr.currencyConverterInit=function(){let cookieCurrency=Geolizr.cookie.get('geolizr-currency');if(typeof Shopify!=="undefined"&&Geolizr.shopifyCurrencyList.length>1&&cookieCurrency!==Shopify.currency.active&&Geolizr.getHost(document.referrer)!==Geolizr.getHost(location.href)){Geolizr.cookie.set('geolizr-currency',Shopify.currency.active,{expires:1,path:'/',domain:Geolizr.shopDomain})}
if(typeof Geolizr.formatMoney!=='undefined'&&typeof Geolizr.formatMoney==='function'){Geolizr.formatMoney=function(cents,format){let originalPrice;let stack=new Error().stack
const searchStacks=['BtCurrency'];let useOriginal=!1;let changeUseOriginal=!1;searchStacks.forEach(function(i,e){changeUseOriginal=stack.indexOf("BtCurrency")>0&&format=="{{amount_no_decimals}}";if(changeUseOriginal){useOriginal=changeUseOriginal}});if(useOriginal){originalPrice=parseInt(cents,10);const formatted=Geolizr.shopifyFormatMoney(originalPrice,format);return formatted.replace(",","")/100}
let currency=Geolizr.getCurrency();if(Geolizr.moneyFormats[currency]){const moneyFormat=Geolizr.moneyFormats[currency].moneyFormat;originalPrice=parseInt(cents,10);const convertedPrice=Geolizr.convert(originalPrice,Geolizr.shopCurrency,currency);return'<span class="geolizr-currency" data-geolizr-price="'+cents+'">'+Geolizr.shopifyFormatMoney(convertedPrice,moneyFormat)+'</span>'}else{return'<span class="geolizr-currency" data-geolizr-price="'+cents+'">'+Geolizr.shopifyFormatMoney(cents,format)+'</span>'}};Geolizr.formatMoneyInit=!0}
Geolizr.geolizrCountry=Geolizr.getURLParameter('geolizr_country');Geolizr.geolizrIp=Geolizr.getURLParameter('geolizr_ip');Geolizr.currencyApiParamters={switchCurrency:Geolizr.switchCurrency,getCurrency:Geolizr.getCurrency};if(Geolizr.shopifyMultiCurrencyActivated===!0&&Geolizr.shopifyCurrencyList.length>0){Geolizr.currencyHistory.addCurrency('shopify',Shopify.currency.active);Geolizr.shopifyCurrencyList.forEach(function(currencyInfo){const currency=currencyInfo.iso_code;if(typeof Geolizr.moneyFormats[currency]=="undefined"){Geolizr.moneyFormats[currency]={}}
Geolizr.moneyFormats[currency].block=!0})
let requestSend=0;let changeCurrencyByUrl=function(currency){let targetUrl=location.href.replace(/[&?]currency=(.*)/,"");if(targetUrl.indexOf("?")===-1){location.href=targetUrl+"?currency="+currency}else{location.href=targetUrl+"&currency="+currency}};Geolizr.addEventListener("currency.change.block",function(currencyInfo){let currency=currencyInfo.currency;let currencyParam=Geolizr.getURLParameter('currency');let countryCheck=(typeof currencyInfo.country!=="undefined"&&currencyInfo.country!==!1)?Geolizr.shopify.active_country.iso_code!==currencyInfo.country:!1;if(typeof Geolizr.shopifyCurrencyListIndex[currency]!=="undefined"&&(Shopify.currency.active!==currency||countryCheck)&&typeof currencyParam==="undefined"&&requestSend===0){let changeCurrency=function(){requestSend=1;let return_to=window.location.pathname;if(location.search!==""){return_to=return_to+location.search}
let opera=navigator.userAgent.match(/OPR\/([0-9]*)/);if(opera!==null){opera.version=parseInt(opera[1])}
if(opera!==null&&opera.version>70){if(return_to.indexOf("?")===-1){window.location.href=return_to+"?currency="+currency}else{window.location.href=return_to+"&currency="+currency}}else{let params={'_method':'PUT','source':'geolocation_selector','return_to':return_to,'currency_code':currency}
if(typeof currencyInfo.country!=="undefined"&&typeof Geolizr.shopify.active_country==="array"&&Geolizr.shopify.active_country.indexOf(currencyInfo.country)>-1){params.country_code=currencyInfo.country}
Geolizr.post("/localization",params)}};if(Geolizr.enables.redirect_widget_enabled===!0&&Geolizr.redirectDisabled===!1&&Object.keys(Geolizr.countryToRedirect).length>0&&Geolizr.redirectWidgetInstall===!0){Geolizr.addEventListener('redirect.executed',function(executionParameter){if(executionParameter.code!=="200"){changeCurrency()}})}else{changeCurrency()}}})}
Geolizr.dispatchEvent('currency.api',Geolizr.currencyApiParamters);Geolizr.displayAutoCurrency(!1)};Geolizr.post=function(path,params,method){if(typeof method=="undefined")method='POST';const form=document.createElement('form');form.method=method;form.action=path;for(let key in params){if(params.hasOwnProperty(key)){const hiddenField=document.createElement('input');hiddenField.type='hidden';hiddenField.name=key;hiddenField.value=params[key];form.appendChild(hiddenField)}}
document.body.appendChild(form);form.submit()}
Geolizr.isAutoSwitchCurrency=function(){return(Geolizr.currencyOptions.auto_switch_currency===!0||Geolizr.currencyOptions.auto_switch_currency==='true')&&Geolizr.checks.bot!==!0};Geolizr.displayAutoCurrency=function(wrapper){let showHideCurrency=function(currency){if(typeof wrapper==="object"&&wrapper.find('.geolizr-currency-list-link[geolizr-currency-data="'+currency+'"]').length<=0&&Geolizr.moneyFormats[currency]){wrapper.find('.geolizr-currency-placeholder-value').text(currency);let currencyPlaceholder=wrapper.find('.geolizr-currency-placeholder');currencyPlaceholder.find('a').attr('geolizr-currency-data',currency);let usedLanguageCode=Geolizr.currenciesToLanguages[currency];if(usedLanguageCode){currencyPlaceholder.find('i').attr('class','famfamfam-flag-'+usedLanguageCode)}
currencyPlaceholder.show()}};let usedCurrency=Geolizr.getCurrency();if((!Geolizr.cookie.get('geolizr-currency-auto')||Geolizr.geolizrCountry||Geolizr.geolizrIp)&&Geolizr.isAutoSwitchCurrency()){Geolizr.getGeoData(function(geoData){Geolizr.cookie.set('geolizr-currency-auto',"1",{expires:1});let useCountry=!1;if(Geolizr.currencyDynamicCountry===!0){useCountry=Geolizr.geoData.country.code}
usedCurrency=geoData.currency.code;showHideCurrency(usedCurrency);Geolizr.switchCurrency(usedCurrency,useCountry)})}else{if(usedCurrency!==Shopify.currency.active&&Geolizr.shopifyCurrencyList.length>1){if(Geolizr.currencyHistory.shopify.last===usedCurrency){usedCurrency=Shopify.currency.active}}
Geolizr.switchCurrency(usedCurrency);if(Geolizr.isAutoSwitchCurrency()){Geolizr.getGeoData(function(geoData){showHideCurrency(geoData.currency.code)})}}};Geolizr.initCallbackListPush=function(callback,priority){var callback={callback:callback,priority:priority};if(Geolizr.initCallbackList.indexOf(callback)===-1){Geolizr.initCallbackList.push(callback)}};Geolizr.setInitState=function($){if(typeof window.$==='undefined')window.$=$;Geolizr.jquery=$;Geolizr.initState='true';const callbacks=Geolizr.initCallbackList.sort(Geolizr.sortByPriority);for(let i=0;i<callbacks.length;i++){callbacks[i].callback($)}
Geolizr.initCallbackList=[]};Geolizr.initHelper=function(){Geolizr.waitOnPageRender=function(elementSelector){return new Promise(function(resolver,reject){let internalCount=0;let interval=setInterval(function(){internalCount++;if(internalCount<20){if(Geolizr.jquery(elementSelector).length>0){resolver();clearInterval(interval)}}else{reject();clearInterval(interval)}},200)})}}
Geolizr.initDropdown=function(){Geolizr.jquery&&function($){function t(t,e){const n=t?$(this):e;n.attr=n.attr||!1;const d=$(n.attr("data-jq-dropdown")),a=n.hasClass("jq-dropdown-open");if(t){if($(t.target).hasClass("jq-dropdown-ignore"))return;t.preventDefault(),t.stopPropagation()}else if(n!==e.target&&$(e.target).hasClass("jq-dropdown-ignore"))return;d.data=d.data||function(){return!1};o(),a||n.hasClass("jq-dropdown-disabled")||(n.addClass("jq-dropdown-open"),d.data("jq-dropdown-trigger",n).show(),r(),d.trigger("show",{jqDropdown:d,trigger:n}))}
function o(t){const target=$(t.target);target.parents=target.parents||function(){return!1};const parents=target.parents();parents.addBack=parents.addBack||function(){return!1};const o=t?parents.addBack():null;o.is=o.is||function(){return!1};if(o&&o.is(".jq-dropdown")){if(!o.is(".jq-dropdown-menu"))return;if(!o.is("A"))return}
const document=$(document);document.find=document.find||function(){return!1};const dropdownVisible=document.find(".jq-dropdown:visible");dropdownVisible.each=dropdownVisible.each||!1;dropdownVisible.each(function(){const t=$(this);t.hide=t.hide||!1;const h=t.hide();h.removeData=h.removeData||!1;h.removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:t})}),$(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open")}
function r(){const jq=$(".jq-dropdown:visible");jq.eq=jq.eq||!1;const t=jq.eq(0);let o=t.data("jq-dropdown-trigger");const r=o?parseInt(o.attr("data-horizontal-offset")||0,10):null,e=o?parseInt(o.attr("data-vertical-offset")||0,10):null;o=o||{};t.outerWidth=t.outerWidth||!1;t.outerHeight=t.outerHeight||!1;o.offset=o.offset||!1;0!==t.length&&o&&t.css(t.hasClass("jq-dropdown-relative")?{left:t.hasClass("jq-dropdown-anchor-right")?o.position().left-(t.outerWidth(!0)-o.outerWidth(!0))-parseInt(o.css("margin-right"),10)+r:o.position().left+parseInt(o.css("margin-left"),10)+r,top:o.position().top+o.outerHeight(!0)-parseInt(o.css("margin-top"),10)+e}:{left:t.hasClass("jq-dropdown-anchor-right")?o.offset().left-(t.outerWidth()-o.outerWidth())+r:o.offset().left+r,top:o.offset().top+o.outerHeight()+e})}
$.fn=$.fn||{};const _document=$(document);_document.on=_document.on||function(){return!1};$.extend($.fn,{jqDropdown:function(r,e){const _this=$(this);_this.removeAttr=_this.removeAttr||function(){return!1};switch(r){case "show":return t(null,$(this)),$(this);case "hide":return o(),$(this);case "attach":return $(this).attr("data-jq-dropdown",e);case "detach":return o(),_this.removeAttr("data-jq-dropdown");case "disable":return $(this).addClass("jq-dropdown-disabled");case "enable":return o(),$(this).removeClass("jq-dropdown-disabled")}}}),_document.on("click.jq-dropdown","[data-jq-dropdown]",t),$(document).on("click.jq-dropdown",o),$(window).on("resize",r)
const intervals={};const removeListener=function(selector){if(intervals[selector]){window.clearInterval(intervals[selector]);intervals[selector]=null}};const found='waitUntilExists.found';$.fn.waitUntilExists=function(handler,shouldRunHandlerOnce,isChild){const selector=this.selector;const $this=$(selector);const $elements=$this.not(function(){return $(this).data(found)});if(handler==='remove'){removeListener(selector)}else{$elements.each(handler).data(found,!0);if(shouldRunHandlerOnce&&$this.length){removeListener(selector)}else if(!isChild){intervals[selector]=window.setInterval(function(){$this.waitUntilExists(handler,shouldRunHandlerOnce,!0)},500)}}
return $this}}(Geolizr.jquery,window)}
Geolizr.init=function(callback,priority){if(typeof priority=="undefined")priority=100;if(Geolizr.initState==='true'){callback(Geolizr.jquery);return}else if(Geolizr.initState==='pending'){Geolizr.initCallbackListPush(callback,priority);return}
Geolizr.initCallbackListPush(callback,priority);Geolizr.initState='pending';const initExecuted=!1;const initjQuery=function(){if(typeof jQuery!=='undefined'&&typeof jQuery.fn!=='undefined'&&typeof jQuery.fn.jquery==="undefined")jQuery.fn.jquery="1.0.0";if((typeof jQuery==='undefined')||(Geolizr.versionCompare(jQuery.fn.jquery,'1.7.0')<=0)){Geolizr.loadScript(Geolizr.jqueryUri,function(){jQuery.noConflict=jQuery.noConflict||function(){return this};const jQuery191=jQuery.noConflict(!0);Geolizr.setInitState(jQuery191)})}else{Geolizr.setInitState(jQuery)}
const initExecuted=!0};document.addEventListener("DOMContentLoaded",initjQuery);setTimeout(function(){if(Geolizr.initState==="pending"&&initExecuted===!1){initjQuery()}},3000)};Geolizr.switcherWrappers=[];Geolizr.checkWrapper=function(wrapper){let id=wrapper.attr("id");if(typeof id=="undefined"){id="geolizr-wrapper-auto-"+Math.random().toString(36).replace(/[^a-z]+/g,'').substr(0,10);wrapper.attr("id",id)}
if(Geolizr.switcherWrappers.indexOf(id)==-1){Geolizr.switcherWrappers.push(id);return!0}
return!1};Geolizr.initWrappers=function(){Geolizr.init(function($){const wrappers=$('.geolizr-currency-switch-wrapper');wrappers.each(function(index,wrapperObj){const wrapper=$(wrapperObj);if(Geolizr.checkWrapper(wrapper)===!0){wrapper.find('.geolizr-currency-switcher').click(function(e){e.preventDefault();let currencyList=wrapper.find('.geolizr-currency-list');currencyList.toggle();if(currencyList.css('display')==="block"){wrapper.addClass('open');Geolizr.dispatchEvent('currency.switcher.open')}else{wrapper.removeClass('open');Geolizr.dispatchEvent('currency.switcher.close')}});wrapper.find('.geolizr-currency-list-link').click(function(e){e.preventDefault();wrapper.find('.geolizr-currency-list').hide();wrapper.removeClass('open');Geolizr.setCurrency($(this).attr('geolizr-currency-data'));Geolizr.dispatchEvent('currency.switcher.close')});if(wrapper.find('.geolizr-currency-list li').length<7){wrapper.addClass('no-scroll')}
Geolizr.addEventListener('currency.change',function(currency){wrapper.find(".geolizr-currency-switcher").find('> i').replaceWith($('<i class="famfamfam-flag-'+Geolizr.usedLanguageCode+'"></i>'));wrapper.find(".geolizr-currency-switcher-value").text(currency)});Geolizr.addEventListener('currency.api',function(){Geolizr.displayAutoCurrency(wrapper)})}})})};Geolizr.realInit=Geolizr.init;Geolizr.realGetGeoData=Geolizr.getGeoData;Geolizr.realAddEventListener=Geolizr.addEventListener
Geolizr.onDomChanges=function(records){console.log(records);Geolizr.switchCurrency(Geolizr.getCurrency())};Geolizr.observer=new MutationObserver(Geolizr.onDomChanges);Geolizr.observe=function(){Geolizr.observeElements.forEach(function(el){const elObjects=Geolizr.jquery(el);if(elObjects.length>0){for(let i=0;i<elObjects.length;i++){Geolizr.observer.observe(elObjects[i],{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:[]})}}})};Geolizr.disconnectObserver=function(){Geolizr.observer.disconnect()};Geolizr.addDomInspectors=function(key){Geolizr.observeElements.push(key)};
/*! loadCSS. [c]2020 Filament Group, Inc. MIT License */
(function(w){"use strict";const loadCSS=function(href,before,media,attributes){const doc=w.document;const ss=doc.createElement("link");let ref;if(before){ref=before}else{const refs=(doc.body||doc.getElementsByTagName("head")[0]).childNodes;ref=refs[refs.length-1]}
const sheets=doc.styleSheets;if(attributes){for(let attributeName in attributes){if(attributes.hasOwnProperty(attributeName)){ss.setAttribute(attributeName,attributes[attributeName])}}}
ss.rel="stylesheet";ss.href=href;ss.media="only x";function ready(cb){if(doc.body){return cb()}
setTimeout(function(){ready(cb)})}
ready(function(){if(typeof ref!=="undefined"){ref.parentNode.insertBefore(ss,(before?ref:ref.nextSibling))}else{document.body.appendChild(ss)}});const onloadcssdefined=function(cb){const resolvedHref=ss.href;let i=sheets.length;while(i--){if(sheets[i].href===resolvedHref){return cb()}}
setTimeout(function(){onloadcssdefined(cb)})};function loadCB(){if(ss.addEventListener){ss.removeEventListener("load",loadCB)}
ss.media=media||"all"}
if(ss.addEventListener){ss.addEventListener("load",loadCB)}
ss.onloadcssdefined=onloadcssdefined;onloadcssdefined(loadCB);return ss};if(typeof Geolizr!=="undefined"){Geolizr.loadCSS=loadCSS}else{w.loadCSS=loadCSS}}(typeof global!=="undefined"?global:this));if(typeof Geolizr.geolizrCssFile==="string"&&Geolizr.geolizrCssFile.length>0){Geolizr.loadCSS(Geolizr.geolizrCssFile);Geolizr.geolizrCssFile=!1}
Geolizr.domObserver=function(config){let setEvent=0;let observeElement=!1;const delay=config.delay||200;const setCurrentCurrency=function(){Geolizr.setCurrency(Geolizr.getCurrency());if(config.observerPersists!==!0){observeElement[0].removeEventListener('DOMNodeInserted',OnNodeInserted,!1)}};var OnNodeInserted=function(event){if(typeof config.checkForElement==="string"){if(Geolizr.jquery(config.checkForElement).length>0){if(setEvent>0)clearTimeout(setEvent);setEvent=setTimeout(setCurrentCurrency,delay)}}else if(typeof config.checkForClassName==="string"){if(Geolizr.jquery(event.target).hasClass(config.checkForClassName)){Geolizr.jquery(event.target).ready(function(){if(setEvent>0)clearTimeout(setEvent);setEvent=setTimeout(setCurrentCurrency,delay)})}}else{Geolizr.jquery(event.target).ready(function(){if(setEvent>0)clearTimeout(setEvent);setEvent=setTimeout(setCurrentCurrency,delay)})}};if(typeof config.observeObject==="undefined"){observeElement=Geolizr.jquery('body')}else{observeElement=Geolizr.jquery(config.observeObject)}
if(observeElement.length>0)
observeElement[0].addEventListener('DOMNodeInserted',OnNodeInserted,!1)};Geolizr.supportExternalApps=function(){if(typeof window.saso_config==="object"){Geolizr.addEventListener('currency.change',function(currency){Geolizr.convertAll(Geolizr.shopCurrency,currency,".original_price,.discounted_price,.saso-cart-total,.saso-price span.money")});Geolizr.domObserver({observeObject:'#saso-cart-total'})}
if(Geolizr.jquery('limespot').length>0){Geolizr.addEventListener('currency.change',function(currency){Geolizr.convertAll(Geolizr.shopCurrency,currency)});Geolizr.domObserver({'checkForClassName':'limespot-recommendation-box-item','observerPersists':!0})}
if(typeof window.BOLD!=="undefined"&&typeof window.BOLD.bundles!=="undefined"){Geolizr.addEventListener('currency.change',function(currency){let moneyFormatBold="${{amount_no_decimals}}";if(typeof BOLD.common.Shopify.shop.money_format!=="undefined"){moneyFormatBold=BOLD.common.Shopify.shop.money_format}
Geolizr.convertAll(Geolizr.shopCurrency,Geolizr.shopCurrency,".cart .money, .bold-bundles-widget-item__price--old .money, .bold-bundles-widget-item__price--new .money",moneyFormatBold)});Geolizr.domObserver({observeObject:'.bold-bundle'});Geolizr.domObserver({observeObject:'.cart',checkForClassName:'bundle_visible_prop'})}
if(typeof window.Flickity==="function"){Geolizr.addEventListener('currency.change',function(currency){Geolizr.convertAll(Geolizr.shopCurrency,Geolizr.getCurrency(),".flickity-viewport span.money")});Geolizr.domObserver({checkForClassName:'flickity-viewport'})}};(function(){let closePopupId=Geolizr.getURLParameter('gcp');if(typeof closePopupId=="string"){Geolizr.closePopupRemember({rememberCloseState:'true',id:closePopupId})}
Geolizr.init(function($){Geolizr.dispatchEvent("geolizr.init",$);if(typeof Geolizr.geolizrEvents==="undefined")
Geolizr.geolizrEvents=[];Geolizr.geolizrEvents.forEach(function(event){event.jquery=$;document.dispatchEvent(event)});Geolizr.admin=Geolizr.detectAdmin();Geolizr.addEventListener("currency.api",function(){const elements=["#ajaxifyCart",".cart-toggle"];elements.forEach(function(el){if($(el).length>0&&!$(el).hasClass('gl_observe')){Geolizr.addDomInspectors(el);$(el).addClass('gl_observe')}});if(Geolizr.observeElements.length>0){Geolizr.disconnectObserver();Geolizr.observe()}
Geolizr.supportExternalApps()})},1)})();if(location.href.indexOf('/checkouts/')>-1&&typeof GeolizrConvertOnCheckout!=="undefined"&&GeolizrConvertOnCheckout===!0){Geolizr.moneyFormatFallback={};Geolizr.getGeoData(function(geoData){const toCurrency=Geolizr.cookie.get('geolizr-currency')||geodata.currency.code;if(Shopify.Checkout.currency!==toCurrency){const Currency=JSON.parse(sessionStorage.getItem('geolizr_currency'));Currency.convert=function(amount,from,to){return(amount*this.rates[from])/this.rates[to]};function convertPrice(){let geodata=Geolizr.geoData;let totalPrice=$('.payment-due__price');let price=totalPrice.attr('data-checkout-payment-due-target');let fromCurrency=Shopify.Checkout.currency;let convertedPrice=Currency.convert(price,fromCurrency,toCurrency);let format=Currency.moneyFormats[toCurrency];let moneyFormat=format.moneyFormat;if(typeof format[Geolizr.useMoneyFormat]!=="undefined"){moneyFormat=format[Geolizr.useMoneyFormat]}
let formattedPrice=Geolizr.shopifyFormatMoney(convertedPrice,moneyFormat);$('#geolizr-tr').remove();$('#geolizr-span').remove();$('.total-line-table__footer').append("<tr id='geolizr-tr'><td></td><td><span style='font-size: 18px; color: #555; font-weight: 500; text-align: right; float: right; margin-bottom: 20px;' currency='"+toCurrency+"'>"+formattedPrice+"</span></td></tr>")
$('.total-recap__final-price').append("<span id='geolizr-span' style='font-size: 18px; color: #555; font-weight: 500; text-align: right; float: right; margin-bottom: 20px;' currency='"+toCurrency+"'>"+formattedPrice+"</span>")}
Geolizr.getGeoData(function(geodata){convertPrice()});let observer=new MutationObserver(convertPrice);observer.observe($('.payment-due__price')[0],{attributes:!0,childList:!0})}})}