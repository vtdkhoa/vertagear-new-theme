<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MMRTG43');</script>
<!-- End Google Tag Manager -->
<!-- TAGinstall START -->
<script>
{% assign products_array = '' | split: '' %}{%- capture get_page -%}{%- if template.name == "index" -%}'Home Page'{% elsif template.name == "collection" -%}{% assign products_array = collection.products %}'Collection Page'{%- elsif template.name == "product" -%}'Product Page'{%- elsif template.name == "checkout" -%}'Checkout Page'{%- elsif template.name == "search" -%}{%- if search.performed -%}{% assign products_array = search.results %}'Search Results'{%- else -%}'Search Page'{%- endif -%}{%- elsif template.name == "account" -%}'Account Page'{%- elsif template.name == "cart" -%}'Cart Page'{%- else -%}'Other Page'{%- endif -%}{%- endcapture -%}{%- capture products_json -%}{%- for product in products_array -%}{% if product.object_type == 'product' %}{name: {{product.title | json}},title: {{product.title | json}},id: {{product.variants[0].sku | default: product.variants[0].id | append: '' | json}},price: {{product.price | divided_by: 100.0 | append: '' | json}},brand: {{product.vendor | json}},category: {{product.type | json}},variant: {{product.variants[0].title | json}},productId: {{product.id | append: '' | json}},variantId: {{product.variants[0].id | append: '' | json}},handle: {{product.handle | json}},},{% endif %}{% if forloop.index == 50 %}{% break %}{% endif %}{%- endfor -%}{%- endcapture -%}{% capture cart_items_json -%}{% for line_item in cart.items %}{id: {{line_item.sku| default: line_item.id | append: '' | json}},sku: {{line_item.sku | json}},productId: {{line_item.product_id | append: '' | json}},variantId: {{line_item.variant_id | append: '' | json}},price: {{line_item.price | divided_by: 100.0 | append: '' | json}},brand: {{line_item.vendor | json}},image: {{line_item.image.src | json}},category: {{line_item.product.type | json}},variant: {{line_item.variant.title | default: "Default Variant" | json}},quantity: {{line_item.quantity  | append: '' | json}},name: {{line_item.product.title | json}},position: {{ forloop.index }},}{%- if forloop.last == false -%},{%- endif -%}{% endfor %}{% endcapture %} (function(w) {  var first = document.getElementsByTagName('script')[0];  var script = document.createElement('script');  script.async = true;  script.src = 'https://gtm.taginstall.com/sites/d8628574aeab433416fe4cb87e99ee3b31bee1fbeb367fbf13a32f5bfc07dedd/gtm-data-layer-108-210715340.js';  script.addEventListener ("load", function() {  function start() {  {% if template.name != 'login' and template.name != 'checkout' %}  var allProducts = [{{- products_json | strip_newlines -}}];  {%- else -%}  var allProducts = [];  {% endif %}  var shopCurrency = '{{ shop.currency }}';  var collectionTitle = {{collection.title | json }};  {% if customer %}  var customer = {  customerType: 'loggedIn',  customerId: {{customer.id | json}},  customerFirstName: '{{customer.first_name | sha256}}',  customerLastName: '{{customer.last_name | sha256}}',  customerEmail: '{{customer.email | sha256}}',  hashedCustomerEmail: '{{customer.email | sha256}}',  customerOrdersCount: {{customer.orders_count}},  customerTotalSpent: {{customer.total_spent | divided_by: 100.0}}  };  {% else %}  var customer = {  customerType: 'guest'  };  {% endif %}  var pageType = {{get_page | stip_newlines}};  var searchPerformed = {{ search.performed | default: false }};  var cart = {  "items": [{{cart_items_json}}],  "total": {{cart.total_price | divided_by: 100.0}},  "currency": "{{cart.currency.iso_code}}",  };  if (!w.__TAGinstall) {  console.error('Unable to initialize Easy Tag - GTM & Data Layer.');  return;  }  w.__TAGinstall.init({  shopCurrency, allProducts, collectionTitle, searchPerformed, pageType, customer, cartData: cart  });  {% if template.name == 'product' %}  {%- capture product_json -%}  {  name: {{product.title | json}},  title: {{product.title | json}},  id: {{product.selected_or_first_available_variant.sku | default: product.selected_or_first_available_variant.id | append: '' | json}},  productId: {{product.id | append: '' | json}},  variantId: {{product.selected_or_first_available_variant.id | append: '' | json}},  handle: {{product.handle | json}},  price: {{product.price | divided_by: 100.0 | append: '' | json}},  image: {{product.featured_image | img_url: "medium" | json}},  brand: {{product.vendor | json}},  category: {{product.type | json}},  {%- capture variants_json -%}  {%- for variant in product.variants -%}  {  id: {{variant.id | append: '' | json}},  title: {{variant.title | json}},  sku: {{variant.sku | default: '' | json}},  price: {{variant.price | divided_by: 100.0 | append: '' | json}},  compareAtPrice: {{variant.compare_at_price | default: 0.0 | divided_by: 100.0 | append: '' | json}},  },  {%- endfor -%}  {%- endcapture -%}  "variants": [{{- variants_json | strip_newlines -}}]  }  {%- endcapture %}  var product = {{ product_json }};  w.__TAGinstall.onProductPage({  product, collectionTitle, shopCurrency, ShopifyAnalytics  });  {% elsif template.name == 'collection' %}  w.__TAGinstall.onCollectionPage({  shopCurrency, collectionTitle, pageType, allProducts, searchPerformed  });  {% elsif template.name == 'search' and search.performed %}  var query = '{{search.terms}}';  w.__TAGinstall.onSearchResultsPage({  query, shopCurrency, collectionTitle, pageType, allProducts, searchPerformed  });  {% elsif template.name == 'cart' %}  w.__TAGinstall.onCartPage({  cartItems: cart.items, cartTotal: cart.total, shopCurrency: cart.currency  });  {% endif %}  };  if (w.__TAGinstall && w.__TAGinstall.boot) {  w.__TAGinstall.boot(start);  }  }, false);  first.parentNode.insertBefore(script, first); })(window);  
</script>
<!-- TAGinstall END -->